
> aidin-helpdesk@0.1.0 dev
> NODE_OPTIONS='--max-old-space-size=2048' next dev --hostname 0.0.0.0 --port 3000

  ‚ñ≤ Next.js 14.2.3
  - Local:        http://localhost:3000
  - Network:      http://0.0.0.0:3000
  - Environments: .env.local
  - Experiments (use with caution):
    ¬∑ instrumentationHook

 ‚úì Starting...
 ‚óã Compiling /instrumentation ...
 ‚úì Compiled /instrumentation in 655ms (191 modules)
üöÄ Initializing server components...
‚è∏Ô∏è  Azure AD sync scheduler disabled (not in production or manually disabled)
üßπ Starting attachment cleanup scheduler...
[Attachment Cleanup] Scheduler started (runs daily at 2:00 AM)
 ‚úì Ready in 2.8s
 ‚úì Compiled /middleware in 180ms (155 modules)
üîß Configuration:
   AI Provider: anthropic
   Email Provider: smtp
   Auto-Assign: disabled
   Inbound Email: disabled
   Public Registration: disabled
   CORS Origins: (same-origin only)
 ‚óã Compiling /admin ...
 ‚úì Compiled /admin in 2.8s (1127 modules)
 GET /admin 200 in 2923ms
 ‚úì Compiled in 150ms (484 modules)
 ‚óã Compiling /api/auth/me ...
 ‚úì Compiled /api/auth/me in 751ms (746 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/auth/me 200 in 870ms
 ‚úì Compiled /api/tickets in 108ms (750 modules)
 ‚úì Compiled (1103 modules)
prisma:query SELECT `main`.`audit_logs`.`id`, `main`.`audit_logs`.`userId`, `main`.`audit_logs`.`action`, `main`.`audit_logs`.`entityType`, `main`.`audit_logs`.`entityId`, `main`.`audit_logs`.`oldValues`, `main`.`audit_logs`.`newValues`, `main`.`audit_logs`.`createdAt` FROM `main`.`audit_logs` WHERE `main`.`audit_logs`.`action` IN (?,?) ORDER BY `main`.`audit_logs`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`users`.`id` FROM `main`.`users` WHERE `main`.`users`.`azureId` IS NOT NULL LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE 1=1 ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`ticketId` FROM `main`.`ai_decisions` WHERE `main`.`ai_decisions`.`ticketId` IN (?,?,?) LIMIT ? OFFSET ?
 GET /api/azure-sync/status 200 in 1013ms
 GET /api/admin/departments 200 in 1013ms
 GET /api/users 200 in 1014ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
‚è±Ô∏è tickets-fetch: 26.96ms
 GET /api/tickets?sortBy=createdAt&sortOrder=desc&limit=1000 200 in 1016ms
 ‚úì Compiled /api/azure-sync/sync in 308ms (1219 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
Manual Azure AD sync initiated by: jmedina@surterreproperties.com
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`name` = ? LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`azureId` = ? OR `main`.`users`.`email` = ?) LIMIT ? OFFSET ?
Downloaded photo for new user: ktyler@surterreproperties.com
prisma:query BEGIN IMMEDIATE
prisma:query INSERT INTO `main`.`users` (`id`, `email`, `password`, `firstName`, `lastName`, `phone`, `userType`, `isActive`, `createdAt`, `updatedAt`, `azureId`, `userPrincipalName`, `jobTitle`, `officeLocation`, `mobilePhone`, `avatar`, `lastSyncAt`) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) RETURNING `id` AS `id`
prisma:query INSERT INTO `main`.`user_roles` (`id`, `userId`, `roleId`) VALUES (?,?,?) RETURNING `id` AS `id`
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` = ? LIMIT ? OFFSET ?
prisma:query COMMIT
Created new user: ktyler@surterreproperties.com
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`azureId` = ? OR `main`.`users`.`email` = ?) LIMIT ? OFFSET ?
Downloaded photo for new user: mmiranda@surterreproperties.com
prisma:query BEGIN IMMEDIATE
prisma:query INSERT INTO `main`.`users` (`id`, `email`, `password`, `firstName`, `lastName`, `phone`, `userType`, `isActive`, `createdAt`, `updatedAt`, `azureId`, `userPrincipalName`, `jobTitle`, `officeLocation`, `mobilePhone`, `avatar`, `lastSyncAt`) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) RETURNING `id` AS `id`
prisma:query INSERT INTO `main`.`user_roles` (`id`, `userId`, `roleId`) VALUES (?,?,?) RETURNING `id` AS `id`
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` = ? LIMIT ? OFFSET ?
prisma:query COMMIT
Created new user: mmiranda@surterreproperties.com
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`azureId` = ? OR `main`.`users`.`email` = ?) LIMIT ? OFFSET ?
Downloaded photo for new user: jbaldikoski@surterreproperties.com
prisma:query BEGIN IMMEDIATE
prisma:query INSERT INTO `main`.`users` (`id`, `email`, `password`, `firstName`, `lastName`, `phone`, `userType`, `isActive`, `createdAt`, `updatedAt`, `azureId`, `userPrincipalName`, `jobTitle`, `officeLocation`, `mobilePhone`, `avatar`, `lastSyncAt`) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) RETURNING `id` AS `id`
prisma:query INSERT INTO `main`.`user_roles` (`id`, `userId`, `roleId`) VALUES (?,?,?) RETURNING `id` AS `id`
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` = ? LIMIT ? OFFSET ?
prisma:query COMMIT
Created new user: jbaldikoski@surterreproperties.com
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`azureId` = ? OR `main`.`users`.`email` = ?) LIMIT ? OFFSET ?
Downloaded photo for new user: betty@bluewaterescrow.com
prisma:query BEGIN IMMEDIATE
prisma:query INSERT INTO `main`.`users` (`id`, `email`, `password`, `firstName`, `lastName`, `userType`, `isActive`, `createdAt`, `updatedAt`, `azureId`, `userPrincipalName`, `jobTitle`, `officeLocation`, `mobilePhone`, `avatar`, `lastSyncAt`) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) RETURNING `id` AS `id`
prisma:query INSERT INTO `main`.`user_roles` (`id`, `userId`, `roleId`) VALUES (?,?,?) RETURNING `id` AS `id`
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` = ? LIMIT ? OFFSET ?
prisma:query COMMIT
Created new user: betty@bluewaterescrow.com
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`azureId` = ? OR `main`.`users`.`email` = ?) LIMIT ? OFFSET ?
Downloaded photo for new user: npratt@surterreproperties.com
prisma:query BEGIN IMMEDIATE
prisma:query INSERT INTO `main`.`users` (`id`, `email`, `password`, `firstName`, `lastName`, `phone`, `userType`, `isActive`, `createdAt`, `updatedAt`, `azureId`, `userPrincipalName`, `jobTitle`, `officeLocation`, `mobilePhone`, `avatar`, `lastSyncAt`) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) RETURNING `id` AS `id`
prisma:query INSERT INTO `main`.`user_roles` (`id`, `userId`, `roleId`) VALUES (?,?,?) RETURNING `id` AS `id`
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` = ? LIMIT ? OFFSET ?
prisma:query COMMIT
Created new user: npratt@surterreproperties.com
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`azureId` = ? OR `main`.`users`.`email` = ?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
Downloaded photo for user: jmedina@surterreproperties.com
prisma:query UPDATE `main`.`users` SET `firstName` = ?, `lastName` = ?, `email` = ?, `azureId` = ?, `userPrincipalName` = ?, `jobTitle` = ?, `officeLocation` = ?, `mobilePhone` = ?, `phone` = ?, `avatar` = ?, `isActive` = ?, `lastSyncAt` = ?, `updatedAt` = ? WHERE (`main`.`users`.`id` = ? AND 1=1) RETURNING `id` AS `id`, `email` AS `email`, `password` AS `password`, `firstName` AS `firstName`, `lastName` AS `lastName`, `phone` AS `phone`, `userType` AS `userType`, `managerId` AS `managerId`, `isActive` AS `isActive`, `lastLoginAt` AS `lastLoginAt`, `createdAt` AS `createdAt`, `updatedAt` AS `updatedAt`, `azureId` AS `azureId`, `userPrincipalName` AS `userPrincipalName`, `jobTitle` AS `jobTitle`, `officeLocation` AS `officeLocation`, `mobilePhone` AS `mobilePhone`, `avatar` AS `avatar`, `lastSyncAt` AS `lastSyncAt`
Updated existing user: jmedina@surterreproperties.com
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`azureId` = ? OR `main`.`users`.`email` = ?) LIMIT ? OFFSET ?
prisma:query BEGIN IMMEDIATE
prisma:query INSERT INTO `main`.`users` (`id`, `email`, `password`, `firstName`, `lastName`, `phone`, `userType`, `isActive`, `createdAt`, `updatedAt`, `azureId`, `userPrincipalName`, `jobTitle`, `officeLocation`, `mobilePhone`, `avatar`, `lastSyncAt`) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) RETURNING `id` AS `id`
prisma:query INSERT INTO `main`.`user_roles` (`id`, `userId`, `roleId`) VALUES (?,?,?) RETURNING `id` AS `id`
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` = ? LIMIT ? OFFSET ?
prisma:query COMMIT
Created new user: amendez@surterreproperties.com
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`azureId` = ? OR `main`.`users`.`email` = ?) LIMIT ? OFFSET ?
prisma:query BEGIN IMMEDIATE
prisma:query INSERT INTO `main`.`users` (`id`, `email`, `password`, `firstName`, `lastName`, `userType`, `isActive`, `createdAt`, `updatedAt`, `azureId`, `userPrincipalName`, `jobTitle`, `officeLocation`, `mobilePhone`, `avatar`, `lastSyncAt`) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) RETURNING `id` AS `id`
prisma:query INSERT INTO `main`.`user_roles` (`id`, `userId`, `roleId`) VALUES (?,?,?) RETURNING `id` AS `id`
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` = ? LIMIT ? OFFSET ?
prisma:query COMMIT
Created new user: testuser@surterreproperties.com
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`azureId` = ? OR `main`.`users`.`email` = ?) LIMIT ? OFFSET ?
Downloaded photo for new user: nmiller@surterreproperties.com
prisma:query BEGIN IMMEDIATE
prisma:query INSERT INTO `main`.`users` (`id`, `email`, `password`, `firstName`, `lastName`, `phone`, `userType`, `isActive`, `createdAt`, `updatedAt`, `azureId`, `userPrincipalName`, `jobTitle`, `officeLocation`, `mobilePhone`, `avatar`, `lastSyncAt`) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) RETURNING `id` AS `id`
prisma:query INSERT INTO `main`.`user_roles` (`id`, `userId`, `roleId`) VALUES (?,?,?) RETURNING `id` AS `id`
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` = ? LIMIT ? OFFSET ?
prisma:query COMMIT
Created new user: nmiller@surterreproperties.com
prisma:query INSERT INTO `main`.`audit_logs` (`id`, `userId`, `action`, `entityType`, `entityId`, `oldValues`, `newValues`, `createdAt`) VALUES (?,?,?,?,?,?,?,?) RETURNING `id` AS `id`, `userId` AS `userId`, `action` AS `action`, `entityType` AS `entityType`, `entityId` AS `entityId`, `oldValues` AS `oldValues`, `newValues` AS `newValues`, `createdAt` AS `createdAt`
Manual Azure AD sync completed: Created 8, Updated 1, Skipped 0, Errors 0
 POST /api/azure-sync/sync 200 in 4101ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 38ms
prisma:query SELECT `main`.`audit_logs`.`id`, `main`.`audit_logs`.`userId`, `main`.`audit_logs`.`action`, `main`.`audit_logs`.`entityType`, `main`.`audit_logs`.`entityId`, `main`.`audit_logs`.`oldValues`, `main`.`audit_logs`.`newValues`, `main`.`audit_logs`.`createdAt` FROM `main`.`audit_logs` WHERE `main`.`audit_logs`.`action` IN (?,?) ORDER BY `main`.`audit_logs`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`users`.`id` FROM `main`.`users` WHERE `main`.`users`.`azureId` IS NOT NULL LIMIT ? OFFSET ?) AS `sub`
 GET /api/azure-sync/status 200 in 12ms
<w> [webpack.cache.PackFileCacheStrategy] Serializing big strings (128kiB) impacts deserialization performance (consider using Buffer instead and decode when needed)
 ‚úì Compiled in 1157ms (1118 modules)
 ‚úì Compiled in 401ms (1273 modules)
 ‚úì Compiled in 439ms (484 modules)
 ‚úì Compiled in 426ms (484 modules)
 ‚úì Compiled in 634ms (1118 modules)
 ‚úì Compiled /api/azure-sync/status in 255ms (748 modules)
 ‚úì Compiled (1101 modules)
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`audit_logs`.`id`, `main`.`audit_logs`.`userId`, `main`.`audit_logs`.`action`, `main`.`audit_logs`.`entityType`, `main`.`audit_logs`.`entityId`, `main`.`audit_logs`.`oldValues`, `main`.`audit_logs`.`newValues`, `main`.`audit_logs`.`createdAt` FROM `main`.`audit_logs` WHERE `main`.`audit_logs`.`action` IN (?,?) ORDER BY `main`.`audit_logs`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT 1
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 536ms
 GET /api/users 200 in 808ms
 GET /api/azure-sync/status 200 in 800ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`users`.`id` FROM `main`.`users` WHERE `main`.`users`.`azureId` IS NOT NULL LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE 1=1 ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`ticketId` FROM `main`.`ai_decisions` WHERE `main`.`ai_decisions`.`ticketId` IN (?,?,?) LIMIT ? OFFSET ?
 GET /api/admin/departments 200 in 810ms
 GET /api/admin/departments 200 in 539ms
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
‚è±Ô∏è tickets-fetch: 24.22ms
 GET /api/tickets?sortBy=createdAt&sortOrder=desc&limit=1000 200 in 807ms
prisma:query SELECT `main`.`audit_logs`.`id`, `main`.`audit_logs`.`userId`, `main`.`audit_logs`.`action`, `main`.`audit_logs`.`entityType`, `main`.`audit_logs`.`entityId`, `main`.`audit_logs`.`oldValues`, `main`.`audit_logs`.`newValues`, `main`.`audit_logs`.`createdAt` FROM `main`.`audit_logs` WHERE `main`.`audit_logs`.`action` IN (?,?) ORDER BY `main`.`audit_logs`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`users`.`id` FROM `main`.`users` WHERE `main`.`users`.`azureId` IS NOT NULL LIMIT ? OFFSET ?) AS `sub`
 GET /api/azure-sync/status 200 in 6ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE 1=1 ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`ticketId` FROM `main`.`ai_decisions` WHERE `main`.`ai_decisions`.`ticketId` IN (?,?,?) LIMIT ? OFFSET ?
‚è±Ô∏è tickets-fetch: 1.40ms
 GET /api/tickets?sortBy=createdAt&sortOrder=desc&limit=1000 200 in 9ms
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
 ‚úì Compiled in 631ms (1118 modules)
 ‚úì Compiled in 687ms (1118 modules)
 GET /admin 200 in 113ms
 ‚úì Compiled /api/auth/me in 174ms (746 modules)
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/auth/me 200 in 263ms
 ‚úì Compiled /api/avatars/[filename] in 57ms (750 modules)
 ‚úì Compiled (1105 modules)
prisma:query SELECT `main`.`audit_logs`.`id`, `main`.`audit_logs`.`userId`, `main`.`audit_logs`.`action`, `main`.`audit_logs`.`entityType`, `main`.`audit_logs`.`entityId`, `main`.`audit_logs`.`oldValues`, `main`.`audit_logs`.`newValues`, `main`.`audit_logs`.`createdAt` FROM `main`.`audit_logs` WHERE `main`.`audit_logs`.`action` IN (?,?) ORDER BY `main`.`audit_logs`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`users`.`id` FROM `main`.`users` WHERE `main`.`users`.`azureId` IS NOT NULL LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT 1
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE 1=1 ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`ticketId` FROM `main`.`ai_decisions` WHERE `main`.`ai_decisions`.`ticketId` IN (?,?,?) LIMIT ? OFFSET ?
 GET /api/azure-sync/status 200 in 654ms
 GET /api/admin/departments 200 in 654ms
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
 GET /api/users 200 in 656ms
‚è±Ô∏è tickets-fetch: 30.01ms
 GET /api/tickets?sortBy=createdAt&sortOrder=desc&limit=1000 200 in 656ms
 GET /api/avatars/jmedina_surterreproperties_com.jpg 200 in 827ms
 ‚úì Compiled /api/admin/settings in 104ms (747 modules)
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/admin/settings 200 in 161ms
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 PUT /api/admin/settings 200 in 15ms
prisma:query INSERT INTO `main`.`audit_logs` (`id`, `userId`, `action`, `entityType`, `entityId`, `oldValues`, `newValues`, `createdAt`) VALUES (?,?,?,?,?,?,?,?) RETURNING `id` AS `id`, `userId` AS `userId`, `action` AS `action`, `entityType` AS `entityType`, `entityId` AS `entityId`, `oldValues` AS `oldValues`, `newValues` AS `newValues`, `createdAt` AS `createdAt`
   Reload env: .env.local
 ‚úì Compiled in 245ms (1372 modules)
 GET /admin 200 in 105ms
 ‚úì Compiled /api/auth/me in 68ms (749 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/auth/me 200 in 129ms
 ‚úì Compiled /api/admin/departments in 97ms (1099 modules)
 ‚úì Compiled (1105 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`audit_logs`.`id`, `main`.`audit_logs`.`userId`, `main`.`audit_logs`.`action`, `main`.`audit_logs`.`entityType`, `main`.`audit_logs`.`entityId`, `main`.`audit_logs`.`oldValues`, `main`.`audit_logs`.`newValues`, `main`.`audit_logs`.`createdAt` FROM `main`.`audit_logs` WHERE `main`.`audit_logs`.`action` IN (?,?) ORDER BY `main`.`audit_logs`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT 1
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT 1
 GET /api/users 200 in 519ms
 GET /api/azure-sync/status 200 in 520ms
 GET /api/admin/departments 200 in 521ms
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`users`.`id` FROM `main`.`users` WHERE `main`.`users`.`azureId` IS NOT NULL LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE 1=1 ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`ticketId` FROM `main`.`ai_decisions` WHERE `main`.`ai_decisions`.`ticketId` IN (?,?,?) LIMIT ? OFFSET ?
‚è±Ô∏è tickets-fetch: 9.71ms
 GET /api/tickets?sortBy=createdAt&sortOrder=desc&limit=1000 200 in 523ms
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/admin/settings 200 in 30ms
 ‚úì Compiled /api/admin/ai-decisions in 97ms (749 modules)
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT 1
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`ticketId`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`keywordMatches`, `main`.`ai_decisions`.`aiReasoning`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`wasOverridden`, `main`.`ai_decisions`.`createdAt` FROM `main`.`ai_decisions` WHERE 1=1 ORDER BY `main`.`ai_decisions`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`ticketId`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`keywordMatches`, `main`.`ai_decisions`.`aiReasoning`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`wasOverridden`, `main`.`ai_decisions`.`createdAt` FROM `main`.`ai_decisions` WHERE 1=1 ORDER BY `main`.`ai_decisions`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT AVG(`departmentConfidence`) AS `_avg$departmentConfidence`, COUNT(`id`) AS `_count$id` FROM (SELECT `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`id` FROM `main`.`ai_decisions` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT AVG(`departmentConfidence`) AS `_avg$departmentConfidence`, COUNT(`id`) AS `_count$id` FROM (SELECT `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`id` FROM `main`.`ai_decisions` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT COUNT(`id`) AS `_count$id`, `main`.`ai_decisions`.`wasOverridden` FROM `main`.`ai_decisions` WHERE 1=1 GROUP BY `main`.`ai_decisions`.`wasOverridden` LIMIT ? OFFSET ?
 GET /api/admin/ai-decisions 200 in 121ms
 GET /api/admin/ai-decisions 200 in 163ms
prisma:query SELECT COUNT(`id`) AS `_count$id`, `main`.`ai_decisions`.`wasOverridden` FROM `main`.`ai_decisions` WHERE 1=1 GROUP BY `main`.`ai_decisions`.`wasOverridden` LIMIT ? OFFSET ?
 ‚úì Compiled /api/admin/keywords in 70ms (751 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/admin/keywords 200 in 135ms
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt` FROM `main`.`departments` WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`department_keywords`.`id`, `main`.`department_keywords`.`departmentId`, `main`.`department_keywords`.`keyword`, `main`.`department_keywords`.`weight`, `main`.`department_keywords`.`isActive`, `main`.`department_keywords`.`createdAt`, `main`.`department_keywords`.`updatedAt` FROM `main`.`department_keywords` WHERE `main`.`department_keywords`.`departmentId` IN (?,?,?,?) ORDER BY `main`.`department_keywords`.`weight` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt` FROM `main`.`departments` WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`department_keywords`.`id`, `main`.`department_keywords`.`departmentId`, `main`.`department_keywords`.`keyword`, `main`.`department_keywords`.`weight`, `main`.`department_keywords`.`isActive`, `main`.`department_keywords`.`createdAt`, `main`.`department_keywords`.`updatedAt` FROM `main`.`department_keywords` WHERE `main`.`department_keywords`.`departmentId` IN (?,?,?,?) ORDER BY `main`.`department_keywords`.`weight` DESC LIMIT ? OFFSET ?
 GET /api/admin/keywords 200 in 58ms
 ‚úì Compiled /api/admin/knowledge-base in 79ms (857 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/admin/knowledge-base 200 in 137ms
prisma:query SELECT `main`.`knowledge_base`.`id`, `main`.`knowledge_base`.`title`, `main`.`knowledge_base`.`content`, `main`.`knowledge_base`.`tags`, `main`.`knowledge_base`.`departmentId`, `main`.`knowledge_base`.`isActive`, `main`.`knowledge_base`.`embedding`, `main`.`knowledge_base`.`images`, `main`.`knowledge_base`.`usageCount`, `main`.`knowledge_base`.`createdAt`, `main`.`knowledge_base`.`updatedAt` FROM `main`.`knowledge_base` WHERE 1=1 ORDER BY `main`.`knowledge_base`.`updatedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/admin/knowledge-base 200 in 60ms
prisma:query SELECT `main`.`knowledge_base`.`id`, `main`.`knowledge_base`.`title`, `main`.`knowledge_base`.`content`, `main`.`knowledge_base`.`tags`, `main`.`knowledge_base`.`departmentId`, `main`.`knowledge_base`.`isActive`, `main`.`knowledge_base`.`embedding`, `main`.`knowledge_base`.`images`, `main`.`knowledge_base`.`usageCount`, `main`.`knowledge_base`.`createdAt`, `main`.`knowledge_base`.`updatedAt` FROM `main`.`knowledge_base` WHERE 1=1 ORDER BY `main`.`knowledge_base`.`updatedAt` DESC LIMIT ? OFFSET ?
 ‚úì Compiled /api/categories/analytics in 68ms (859 modules)
 GET /api/categories/analytics 200 in 119ms
 GET /api/categories/analytics 200 in 49ms
 ‚óã Compiling /tickets ...
 ‚úì Compiled /tickets in 1379ms (1533 modules)
 ‚úì Compiled /api/user-preferences in 329ms (1311 modules)
 ‚úì Compiled (1313 modules)
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_preferences`.`id`, `main`.`user_preferences`.`userId`, `main`.`user_preferences`.`personalViewOrder`, `main`.`user_preferences`.`companyViewOrder`, `main`.`user_preferences`.`dashboardCardOrder`, `main`.`user_preferences`.`createdAt`, `main`.`user_preferences`.`updatedAt` FROM `main`.`user_preferences` WHERE (`main`.`user_preferences`.`userId` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/user-preferences 200 in 559ms
prisma:query SELECT 1
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE `main`.`tickets`.`status` IN (?) ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`ticketId` FROM `main`.`ai_decisions` WHERE `main`.`ai_decisions`.`ticketId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE 1=1 ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE 1=1 ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`ticketId` FROM `main`.`ai_decisions` WHERE `main`.`ai_decisions`.`ticketId` IN (?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`ticketId` FROM `main`.`ai_decisions` WHERE `main`.`ai_decisions`.`ticketId` IN (?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE 1=1 ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE 1=1 ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`ticketId` FROM `main`.`ai_decisions` WHERE `main`.`ai_decisions`.`ticketId` IN (?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`ticketId` FROM `main`.`ai_decisions` WHERE `main`.`ai_decisions`.`ticketId` IN (?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE `main`.`tickets`.`status` IN (?) LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
‚è±Ô∏è tickets-fetch: 8.70ms
 GET /api/tickets?status=NEW&sortBy=createdAt&sortOrder=desc 200 in 563ms
Timer 'tickets-fetch' not found
 GET /api/tickets?sortBy=createdAt&sortOrder=desc&limit=1000 200 in 441ms
Timer 'tickets-fetch' not found
 GET /api/tickets?sortBy=createdAt&sortOrder=desc&limit=1000 200 in 442ms
Timer 'tickets-fetch' not found
 GET /api/tickets?sortBy=createdAt&sortOrder=desc&limit=1000 200 in 444ms
Timer 'tickets-fetch' not found
 GET /api/tickets?sortBy=createdAt&sortOrder=desc&limit=1000 200 in 568ms
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE 1=1 ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_preferences`.`id`, `main`.`user_preferences`.`userId`, `main`.`user_preferences`.`personalViewOrder`, `main`.`user_preferences`.`companyViewOrder`, `main`.`user_preferences`.`dashboardCardOrder`, `main`.`user_preferences`.`createdAt`, `main`.`user_preferences`.`updatedAt` FROM `main`.`user_preferences` WHERE (`main`.`user_preferences`.`userId` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE `main`.`tickets`.`status` IN (?) ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`ticketId` FROM `main`.`ai_decisions` WHERE `main`.`ai_decisions`.`ticketId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`ticketId` FROM `main`.`ai_decisions` WHERE `main`.`ai_decisions`.`ticketId` IN (?,?,?) LIMIT ? OFFSET ?
 GET /api/user-preferences 200 in 13ms
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE `main`.`tickets`.`status` IN (?) LIMIT ? OFFSET ?) AS `sub`
‚è±Ô∏è tickets-fetch: 3.39ms
 GET /api/tickets?status=NEW&sortBy=createdAt&sortOrder=desc 200 in 16ms
Timer 'tickets-fetch' not found
 GET /api/tickets?sortBy=createdAt&sortOrder=desc&limit=1000 200 in 15ms
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
 ‚úì Compiled /api/users in 106ms (1315 modules)
 ‚úì Compiled (1319 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE `main`.`tickets`.`status` IN (?) ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`ticketId` FROM `main`.`ai_decisions` WHERE `main`.`ai_decisions`.`ticketId` IN (?) LIMIT ? OFFSET ?
‚è±Ô∏è tickets-fetch: 12.48ms
 GET /api/tickets?status=NEW&sortBy=createdAt&sortOrder=desc 200 in 283ms
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE `main`.`tickets`.`status` IN (?) LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE `main`.`tickets`.`status` IN (?) ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`ticketId` FROM `main`.`ai_decisions` WHERE `main`.`ai_decisions`.`ticketId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`status`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`updatedAt` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE `main`.`tickets`.`status` IN (?) ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`ticketId` FROM `main`.`ai_decisions` WHERE `main`.`ai_decisions`.`ticketId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE `main`.`tickets`.`status` IN (?) LIMIT ? OFFSET ?) AS `sub`
‚è±Ô∏è stats-fetch: 15.76ms
 GET /api/stats 200 in 310ms
 GET /api/users 200 in 310ms
 GET /api/admin/departments 200 in 311ms
‚è±Ô∏è tickets-fetch: 25.82ms
 GET /api/tickets?status=OPEN&sortBy=createdAt&sortOrder=desc 200 in 295ms
Timer 'tickets-fetch' not found
 GET /api/tickets?status=NEW&sortBy=createdAt&sortOrder=desc 200 in 258ms
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE `main`.`tickets`.`status` IN (?) LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
‚è±Ô∏è stats-fetch: 1.78ms
 GET /api/stats 200 in 17ms
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`status`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`updatedAt` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/admin/departments 200 in 20ms
 GET /api/admin/departments 200 in 20ms
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 21ms
 GET /api/users 200 in 22ms
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`status`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`updatedAt` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?
‚è±Ô∏è stats-fetch: 3.59ms
 GET /api/stats 200 in 22ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE 1=1 ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`ticketId` FROM `main`.`ai_decisions` WHERE `main`.`ai_decisions`.`ticketId` IN (?,?,?) LIMIT ? OFFSET ?
‚è±Ô∏è tickets-fetch: 1.77ms
 GET /api/tickets?sortBy=createdAt&sortOrder=desc&limit=1000 200 in 18ms
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE (`main`.`tickets`.`status` NOT IN (?) AND `main`.`tickets`.`assigneeId` IS NULL) ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`ticketId` FROM `main`.`ai_decisions` WHERE `main`.`ai_decisions`.`ticketId` IN (?,?,?) LIMIT ? OFFSET ?
‚è±Ô∏è tickets-fetch: 5.87ms
 GET /api/tickets?excludeStatus=SOLVED&unassigned=true&sortBy=createdAt&sortOrder=desc 200 in 28ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE (`main`.`tickets`.`status` NOT IN (?) AND `main`.`tickets`.`assigneeId` IS NULL) LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`status`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`updatedAt` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
‚è±Ô∏è stats-fetch: 5.55ms
 GET /api/stats 200 in 30ms
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/admin/departments 200 in 31ms
 GET /api/users 200 in 31ms
 ‚óã Compiling /tickets/[id] ...
 ‚úì Compiled /tickets/[id] in 974ms (2617 modules)
 ‚úì Compiled /api/tickets/[id] in 148ms (1632 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE (`main`.`tickets`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ticket_comments`.`id`, `main`.`ticket_comments`.`ticketId`, `main`.`ticket_comments`.`userId`, `main`.`ticket_comments`.`content`, `main`.`ticket_comments`.`isPublic`, `main`.`ticket_comments`.`createdAt`, `main`.`ticket_comments`.`updatedAt` FROM `main`.`ticket_comments` WHERE `main`.`ticket_comments`.`ticketId` IN (?) ORDER BY `main`.`ticket_comments`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`attachments`.`id`, `main`.`attachments`.`ticketId`, `main`.`attachments`.`userId`, `main`.`attachments`.`fileName`, `main`.`attachments`.`fileSize`, `main`.`attachments`.`mimeType`, `main`.`attachments`.`filePath`, `main`.`attachments`.`uploadedAt`, `main`.`attachments`.`expiresAt` FROM `main`.`attachments` WHERE `main`.`attachments`.`ticketId` IN (?) ORDER BY `main`.`attachments`.`uploadedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`status`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`parentTicketId` FROM `main`.`tickets` WHERE `main`.`tickets`.`parentTicketId` IN (?) ORDER BY `main`.`tickets`.`createdAt` ASC LIMIT ? OFFSET ?
 GET /api/tickets/586d9976-1afc-4b4e-8d95-6f3c5c536f79 200 in 435ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/tickets/586d9976-1afc-4b4e-8d95-6f3c5c536f79 200 in 10ms
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE (`main`.`tickets`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ticket_comments`.`id`, `main`.`ticket_comments`.`ticketId`, `main`.`ticket_comments`.`userId`, `main`.`ticket_comments`.`content`, `main`.`ticket_comments`.`isPublic`, `main`.`ticket_comments`.`createdAt`, `main`.`ticket_comments`.`updatedAt` FROM `main`.`ticket_comments` WHERE `main`.`ticket_comments`.`ticketId` IN (?) ORDER BY `main`.`ticket_comments`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`attachments`.`id`, `main`.`attachments`.`ticketId`, `main`.`attachments`.`userId`, `main`.`attachments`.`fileName`, `main`.`attachments`.`fileSize`, `main`.`attachments`.`mimeType`, `main`.`attachments`.`filePath`, `main`.`attachments`.`uploadedAt`, `main`.`attachments`.`expiresAt` FROM `main`.`attachments` WHERE `main`.`attachments`.`ticketId` IN (?) ORDER BY `main`.`attachments`.`uploadedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`status`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`parentTicketId` FROM `main`.`tickets` WHERE `main`.`tickets`.`parentTicketId` IN (?) ORDER BY `main`.`tickets`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 16ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 7ms
 ‚úì Compiled /dashboard in 476ms (2743 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
‚è±Ô∏è stats-fetch: 7.94ms
 GET /api/stats 200 in 42ms
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`status`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`updatedAt` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_preferences`.`id`, `main`.`user_preferences`.`userId`, `main`.`user_preferences`.`personalViewOrder`, `main`.`user_preferences`.`companyViewOrder`, `main`.`user_preferences`.`dashboardCardOrder`, `main`.`user_preferences`.`createdAt`, `main`.`user_preferences`.`updatedAt` FROM `main`.`user_preferences` WHERE (`main`.`user_preferences`.`userId` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/user-preferences 200 in 65ms
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE `main`.`tickets`.`status` IN (?) ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`ticketId` FROM `main`.`ai_decisions` WHERE `main`.`ai_decisions`.`ticketId` IN (?) LIMIT ? OFFSET ?
‚è±Ô∏è tickets-fetch: 5.95ms
 GET /api/tickets?limit=8&status=NEW 200 in 66ms
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE `main`.`tickets`.`status` IN (?) LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE `main`.`tickets`.`status` IN (?) ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`status`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`updatedAt` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`ticketId` FROM `main`.`ai_decisions` WHERE `main`.`ai_decisions`.`ticketId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_preferences`.`id`, `main`.`user_preferences`.`userId`, `main`.`user_preferences`.`personalViewOrder`, `main`.`user_preferences`.`companyViewOrder`, `main`.`user_preferences`.`dashboardCardOrder`, `main`.`user_preferences`.`createdAt`, `main`.`user_preferences`.`updatedAt` FROM `main`.`user_preferences` WHERE (`main`.`user_preferences`.`userId` = ? AND 1=1) LIMIT ? OFFSET ?
‚è±Ô∏è stats-fetch: 2.42ms
 GET /api/stats 200 in 16ms
 GET /api/user-preferences 200 in 17ms
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE `main`.`tickets`.`status` IN (?) LIMIT ? OFFSET ?) AS `sub`
‚è±Ô∏è tickets-fetch: 5.75ms
 GET /api/tickets?limit=8&status=NEW 200 in 18ms
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`status`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`updatedAt` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?
‚è±Ô∏è stats-fetch: 2.54ms
 GET /api/stats 200 in 17ms
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE `main`.`tickets`.`status` IN (?) ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`ticketId` FROM `main`.`ai_decisions` WHERE `main`.`ai_decisions`.`ticketId` IN (?) LIMIT ? OFFSET ?
‚è±Ô∏è tickets-fetch: 2.36ms
 GET /api/tickets?limit=8&status=NEW 200 in 18ms
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE `main`.`tickets`.`status` IN (?) LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
‚è±Ô∏è stats-fetch: 2.56ms
 GET /api/stats 200 in 358ms
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`status`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`updatedAt` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE `main`.`tickets`.`status` IN (?) ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`ticketId` FROM `main`.`ai_decisions` WHERE `main`.`ai_decisions`.`ticketId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE `main`.`tickets`.`status` IN (?) LIMIT ? OFFSET ?) AS `sub`
‚è±Ô∏è tickets-fetch: 23.20ms
 GET /api/tickets?limit=8&status=NEW 200 in 388ms
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`status`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`updatedAt` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
‚è±Ô∏è stats-fetch: 3.27ms
 GET /api/stats 200 in 27ms
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE `main`.`tickets`.`status` IN (?) ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`ticketId` FROM `main`.`ai_decisions` WHERE `main`.`ai_decisions`.`ticketId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE `main`.`tickets`.`status` IN (?) LIMIT ? OFFSET ?) AS `sub`
‚è±Ô∏è tickets-fetch: 4.04ms
 GET /api/tickets?limit=8&status=NEW 200 in 28ms
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE (`main`.`tickets`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ticket_comments`.`id`, `main`.`ticket_comments`.`ticketId`, `main`.`ticket_comments`.`userId`, `main`.`ticket_comments`.`content`, `main`.`ticket_comments`.`isPublic`, `main`.`ticket_comments`.`createdAt`, `main`.`ticket_comments`.`updatedAt` FROM `main`.`ticket_comments` WHERE `main`.`ticket_comments`.`ticketId` IN (?) ORDER BY `main`.`ticket_comments`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`attachments`.`id`, `main`.`attachments`.`ticketId`, `main`.`attachments`.`userId`, `main`.`attachments`.`fileName`, `main`.`attachments`.`fileSize`, `main`.`attachments`.`mimeType`, `main`.`attachments`.`filePath`, `main`.`attachments`.`uploadedAt`, `main`.`attachments`.`expiresAt` FROM `main`.`attachments` WHERE `main`.`attachments`.`ticketId` IN (?) ORDER BY `main`.`attachments`.`uploadedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`status`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`parentTicketId` FROM `main`.`tickets` WHERE `main`.`tickets`.`parentTicketId` IN (?) ORDER BY `main`.`tickets`.`createdAt` ASC LIMIT ? OFFSET ?
 GET /api/tickets/468b87bb-46cc-47af-86e2-f6344d992bc8 200 in 18ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE (`main`.`tickets`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ticket_comments`.`id`, `main`.`ticket_comments`.`ticketId`, `main`.`ticket_comments`.`userId`, `main`.`ticket_comments`.`content`, `main`.`ticket_comments`.`isPublic`, `main`.`ticket_comments`.`createdAt`, `main`.`ticket_comments`.`updatedAt` FROM `main`.`ticket_comments` WHERE `main`.`ticket_comments`.`ticketId` IN (?) ORDER BY `main`.`ticket_comments`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`attachments`.`id`, `main`.`attachments`.`ticketId`, `main`.`attachments`.`userId`, `main`.`attachments`.`fileName`, `main`.`attachments`.`fileSize`, `main`.`attachments`.`mimeType`, `main`.`attachments`.`filePath`, `main`.`attachments`.`uploadedAt`, `main`.`attachments`.`expiresAt` FROM `main`.`attachments` WHERE `main`.`attachments`.`ticketId` IN (?) ORDER BY `main`.`attachments`.`uploadedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`status`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`parentTicketId` FROM `main`.`tickets` WHERE `main`.`tickets`.`parentTicketId` IN (?) ORDER BY `main`.`tickets`.`createdAt` ASC LIMIT ? OFFSET ?
 GET /api/tickets/468b87bb-46cc-47af-86e2-f6344d992bc8 200 in 10ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 15ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 8ms
 ‚ö† Fast Refresh had to perform a full reload due to a runtime error.
 ‚úì Compiled in 1119ms (2044 modules)
 GET /tickets/468b87bb-46cc-47af-86e2-f6344d992bc8 200 in 167ms
 ‚úì Compiled /api/tickets/[id] in 117ms (1214 modules)
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/tickets/468b87bb-46cc-47af-86e2-f6344d992bc8 200 in 223ms
 GET /api/tickets/468b87bb-46cc-47af-86e2-f6344d992bc8 200 in 223ms
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE `main`.`tickets`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ticket_comments`.`id`, `main`.`ticket_comments`.`ticketId`, `main`.`ticket_comments`.`userId`, `main`.`ticket_comments`.`content`, `main`.`ticket_comments`.`isPublic`, `main`.`ticket_comments`.`createdAt`, `main`.`ticket_comments`.`updatedAt` FROM `main`.`ticket_comments` WHERE `main`.`ticket_comments`.`ticketId` IN (?) ORDER BY `main`.`ticket_comments`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`attachments`.`id`, `main`.`attachments`.`ticketId`, `main`.`attachments`.`userId`, `main`.`attachments`.`fileName`, `main`.`attachments`.`fileSize`, `main`.`attachments`.`mimeType`, `main`.`attachments`.`filePath`, `main`.`attachments`.`uploadedAt`, `main`.`attachments`.`expiresAt` FROM `main`.`attachments` WHERE `main`.`attachments`.`ticketId` IN (?) ORDER BY `main`.`attachments`.`uploadedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`status`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`parentTicketId` FROM `main`.`tickets` WHERE `main`.`tickets`.`parentTicketId` IN (?) ORDER BY `main`.`tickets`.`createdAt` ASC LIMIT ? OFFSET ?
 ‚ö† Fast Refresh had to perform a full reload due to a runtime error.
 GET /tickets/468b87bb-46cc-47af-86e2-f6344d992bc8 200 in 135ms
 ‚úì Compiled in 1484ms (2044 modules)
 ‚úì Compiled /api/tickets/[id] in 120ms (1214 modules)
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE `main`.`tickets`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ticket_comments`.`id`, `main`.`ticket_comments`.`ticketId`, `main`.`ticket_comments`.`userId`, `main`.`ticket_comments`.`content`, `main`.`ticket_comments`.`isPublic`, `main`.`ticket_comments`.`createdAt`, `main`.`ticket_comments`.`updatedAt` FROM `main`.`ticket_comments` WHERE `main`.`ticket_comments`.`ticketId` IN (?) ORDER BY `main`.`ticket_comments`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`attachments`.`id`, `main`.`attachments`.`ticketId`, `main`.`attachments`.`userId`, `main`.`attachments`.`fileName`, `main`.`attachments`.`fileSize`, `main`.`attachments`.`mimeType`, `main`.`attachments`.`filePath`, `main`.`attachments`.`uploadedAt`, `main`.`attachments`.`expiresAt` FROM `main`.`attachments` WHERE `main`.`attachments`.`ticketId` IN (?) ORDER BY `main`.`attachments`.`uploadedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`status`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`parentTicketId` FROM `main`.`tickets` WHERE `main`.`tickets`.`parentTicketId` IN (?) ORDER BY `main`.`tickets`.`createdAt` ASC LIMIT ? OFFSET ?
 GET /api/tickets/468b87bb-46cc-47af-86e2-f6344d992bc8 200 in 113ms
 GET /api/tickets/468b87bb-46cc-47af-86e2-f6344d992bc8 200 in 230ms
 ‚úì Compiled /api/auth/me in 237ms (1216 modules)
 GET /api/auth/me 200 in 302ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 ‚úì Compiled /api/users in 267ms (1220 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/tickets/468b87bb-46cc-47af-86e2-f6344d992bc8 200 in 438ms
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE (`main`.`tickets`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ticket_comments`.`id`, `main`.`ticket_comments`.`ticketId`, `main`.`ticket_comments`.`userId`, `main`.`ticket_comments`.`content`, `main`.`ticket_comments`.`isPublic`, `main`.`ticket_comments`.`createdAt`, `main`.`ticket_comments`.`updatedAt` FROM `main`.`ticket_comments` WHERE `main`.`ticket_comments`.`ticketId` IN (?) ORDER BY `main`.`ticket_comments`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`attachments`.`id`, `main`.`attachments`.`ticketId`, `main`.`attachments`.`userId`, `main`.`attachments`.`fileName`, `main`.`attachments`.`fileSize`, `main`.`attachments`.`mimeType`, `main`.`attachments`.`filePath`, `main`.`attachments`.`uploadedAt`, `main`.`attachments`.`expiresAt` FROM `main`.`attachments` WHERE `main`.`attachments`.`ticketId` IN (?) ORDER BY `main`.`attachments`.`uploadedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`status`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`parentTicketId` FROM `main`.`tickets` WHERE `main`.`tickets`.`parentTicketId` IN (?) ORDER BY `main`.`tickets`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 402ms
 GET /api/users 200 in 453ms
 GET /tickets/468b87bb-46cc-47af-86e2-f6344d992bc8 200 in 140ms
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/tickets/468b87bb-46cc-47af-86e2-f6344d992bc8 200 in 18ms
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE (`main`.`tickets`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ticket_comments`.`id`, `main`.`ticket_comments`.`ticketId`, `main`.`ticket_comments`.`userId`, `main`.`ticket_comments`.`content`, `main`.`ticket_comments`.`isPublic`, `main`.`ticket_comments`.`createdAt`, `main`.`ticket_comments`.`updatedAt` FROM `main`.`ticket_comments` WHERE `main`.`ticket_comments`.`ticketId` IN (?) ORDER BY `main`.`ticket_comments`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`attachments`.`id`, `main`.`attachments`.`ticketId`, `main`.`attachments`.`userId`, `main`.`attachments`.`fileName`, `main`.`attachments`.`fileSize`, `main`.`attachments`.`mimeType`, `main`.`attachments`.`filePath`, `main`.`attachments`.`uploadedAt`, `main`.`attachments`.`expiresAt` FROM `main`.`attachments` WHERE `main`.`attachments`.`ticketId` IN (?) ORDER BY `main`.`attachments`.`uploadedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`status`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`parentTicketId` FROM `main`.`tickets` WHERE `main`.`tickets`.`parentTicketId` IN (?) ORDER BY `main`.`tickets`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/tickets/468b87bb-46cc-47af-86e2-f6344d992bc8 200 in 22ms
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE (`main`.`tickets`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ticket_comments`.`id`, `main`.`ticket_comments`.`ticketId`, `main`.`ticket_comments`.`userId`, `main`.`ticket_comments`.`content`, `main`.`ticket_comments`.`isPublic`, `main`.`ticket_comments`.`createdAt`, `main`.`ticket_comments`.`updatedAt` FROM `main`.`ticket_comments` WHERE `main`.`ticket_comments`.`ticketId` IN (?) ORDER BY `main`.`ticket_comments`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`attachments`.`id`, `main`.`attachments`.`ticketId`, `main`.`attachments`.`userId`, `main`.`attachments`.`fileName`, `main`.`attachments`.`fileSize`, `main`.`attachments`.`mimeType`, `main`.`attachments`.`filePath`, `main`.`attachments`.`uploadedAt`, `main`.`attachments`.`expiresAt` FROM `main`.`attachments` WHERE `main`.`attachments`.`ticketId` IN (?) ORDER BY `main`.`attachments`.`uploadedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`status`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`parentTicketId` FROM `main`.`tickets` WHERE `main`.`tickets`.`parentTicketId` IN (?) ORDER BY `main`.`tickets`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/auth/me 200 in 20ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT 1
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 17ms
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE (`main`.`tickets`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ticket_comments`.`id`, `main`.`ticket_comments`.`ticketId`, `main`.`ticket_comments`.`userId`, `main`.`ticket_comments`.`content`, `main`.`ticket_comments`.`isPublic`, `main`.`ticket_comments`.`createdAt`, `main`.`ticket_comments`.`updatedAt` FROM `main`.`ticket_comments` WHERE `main`.`ticket_comments`.`ticketId` IN (?) ORDER BY `main`.`ticket_comments`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`attachments`.`id`, `main`.`attachments`.`ticketId`, `main`.`attachments`.`userId`, `main`.`attachments`.`fileName`, `main`.`attachments`.`fileSize`, `main`.`attachments`.`mimeType`, `main`.`attachments`.`filePath`, `main`.`attachments`.`uploadedAt`, `main`.`attachments`.`expiresAt` FROM `main`.`attachments` WHERE `main`.`attachments`.`ticketId` IN (?) ORDER BY `main`.`attachments`.`uploadedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`status`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`parentTicketId` FROM `main`.`tickets` WHERE `main`.`tickets`.`parentTicketId` IN (?) ORDER BY `main`.`tickets`.`createdAt` ASC LIMIT ? OFFSET ?
 GET /api/tickets/468b87bb-46cc-47af-86e2-f6344d992bc8 200 in 17ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 9ms
 ‚óã Compiling /api/user-preferences ...
 ‚úì Compiled /api/user-preferences in 596ms (1222 modules)
 ‚úì Compiled (1465 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT 1
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`status`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`updatedAt` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`status`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`updatedAt` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_preferences`.`id`, `main`.`user_preferences`.`userId`, `main`.`user_preferences`.`personalViewOrder`, `main`.`user_preferences`.`companyViewOrder`, `main`.`user_preferences`.`dashboardCardOrder`, `main`.`user_preferences`.`createdAt`, `main`.`user_preferences`.`updatedAt` FROM `main`.`user_preferences` WHERE `main`.`user_preferences`.`userId` IN (?,?) LIMIT ? OFFSET ?
‚è±Ô∏è stats-fetch: 58.29ms
 GET /api/stats 200 in 984ms
Timer 'stats-fetch' not found
 GET /api/stats 200 in 1101ms
 GET /api/user-preferences 200 in 1102ms
 GET /api/user-preferences 200 in 984ms
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE `main`.`tickets`.`status` IN (?) ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE `main`.`tickets`.`status` IN (?) ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`ticketId` FROM `main`.`ai_decisions` WHERE `main`.`ai_decisions`.`ticketId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`ticketId` FROM `main`.`ai_decisions` WHERE `main`.`ai_decisions`.`ticketId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE `main`.`tickets`.`status` IN (?) LIMIT ? OFFSET ?) AS `sub`
‚è±Ô∏è tickets-fetch: 11.27ms
 GET /api/tickets?limit=8&status=NEW 200 in 1106ms
Timer 'tickets-fetch' not found
 GET /api/tickets?limit=8&status=NEW 200 in 989ms
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE `main`.`tickets`.`status` IN (?) LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE (`main`.`tickets`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ticket_comments`.`id`, `main`.`ticket_comments`.`ticketId`, `main`.`ticket_comments`.`userId`, `main`.`ticket_comments`.`content`, `main`.`ticket_comments`.`isPublic`, `main`.`ticket_comments`.`createdAt`, `main`.`ticket_comments`.`updatedAt` FROM `main`.`ticket_comments` WHERE `main`.`ticket_comments`.`ticketId` IN (?) ORDER BY `main`.`ticket_comments`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`attachments`.`id`, `main`.`attachments`.`ticketId`, `main`.`attachments`.`userId`, `main`.`attachments`.`fileName`, `main`.`attachments`.`fileSize`, `main`.`attachments`.`mimeType`, `main`.`attachments`.`filePath`, `main`.`attachments`.`uploadedAt`, `main`.`attachments`.`expiresAt` FROM `main`.`attachments` WHERE `main`.`attachments`.`ticketId` IN (?) ORDER BY `main`.`attachments`.`uploadedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`status`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`parentTicketId` FROM `main`.`tickets` WHERE `main`.`tickets`.`parentTicketId` IN (?) ORDER BY `main`.`tickets`.`createdAt` ASC LIMIT ? OFFSET ?
 GET /api/tickets/468b87bb-46cc-47af-86e2-f6344d992bc8 200 in 29ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/tickets/468b87bb-46cc-47af-86e2-f6344d992bc8 200 in 12ms
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE (`main`.`tickets`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ticket_comments`.`id`, `main`.`ticket_comments`.`ticketId`, `main`.`ticket_comments`.`userId`, `main`.`ticket_comments`.`content`, `main`.`ticket_comments`.`isPublic`, `main`.`ticket_comments`.`createdAt`, `main`.`ticket_comments`.`updatedAt` FROM `main`.`ticket_comments` WHERE `main`.`ticket_comments`.`ticketId` IN (?) ORDER BY `main`.`ticket_comments`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`attachments`.`id`, `main`.`attachments`.`ticketId`, `main`.`attachments`.`userId`, `main`.`attachments`.`fileName`, `main`.`attachments`.`fileSize`, `main`.`attachments`.`mimeType`, `main`.`attachments`.`filePath`, `main`.`attachments`.`uploadedAt`, `main`.`attachments`.`expiresAt` FROM `main`.`attachments` WHERE `main`.`attachments`.`ticketId` IN (?) ORDER BY `main`.`attachments`.`uploadedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`status`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`parentTicketId` FROM `main`.`tickets` WHERE `main`.`tickets`.`parentTicketId` IN (?) ORDER BY `main`.`tickets`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 17ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 8ms
 ‚úì Compiled /api/tickets/[id]/generate-draft in 137ms (1467 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE (`main`.`tickets`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
ü§ñ Generating AI draft for ticket TICK-1002...
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE (`main`.`tickets`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
ü§ñ Generating AI draft for ticket TICK-1002...
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`email` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query BEGIN IMMEDIATE
prisma:query UPDATE `main`.`tickets` SET `aiDraftResponse` = ?, `aiDraftGeneratedAt` = ?, `aiDraftGeneratedBy` = ?, `updatedAt` = ? WHERE (`main`.`tickets`.`id` = ? AND 1=1) RETURNING `id` AS `id`, `ticketNumber` AS `ticketNumber`, `title` AS `title`, `description` AS `description`, `status` AS `status`, `priority` AS `priority`, `category` AS `category`, `requesterId` AS `requesterId`, `assigneeId` AS `assigneeId`, `departmentId` AS `departmentId`, `emailConversationId` AS `emailConversationId`, `parentTicketId` AS `parentTicketId`, `aiDraftResponse` AS `aiDraftResponse`, `aiDraftGeneratedAt` AS `aiDraftGeneratedAt`, `aiDraftGeneratedBy` AS `aiDraftGeneratedBy`, `createdAt` AS `createdAt`, `updatedAt` AS `updatedAt`, `resolvedAt` AS `resolvedAt`, `closedAt` AS `closedAt`
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE `main`.`tickets`.`id` = ? LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ticket_comments`.`id`, `main`.`ticket_comments`.`ticketId`, `main`.`ticket_comments`.`userId`, `main`.`ticket_comments`.`content`, `main`.`ticket_comments`.`isPublic`, `main`.`ticket_comments`.`createdAt`, `main`.`ticket_comments`.`updatedAt` FROM `main`.`ticket_comments` WHERE `main`.`ticket_comments`.`ticketId` IN (?) ORDER BY `main`.`ticket_comments`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`attachments`.`id`, `main`.`attachments`.`ticketId`, `main`.`attachments`.`userId`, `main`.`attachments`.`fileName`, `main`.`attachments`.`fileSize`, `main`.`attachments`.`mimeType`, `main`.`attachments`.`filePath`, `main`.`attachments`.`uploadedAt`, `main`.`attachments`.`expiresAt` FROM `main`.`attachments` WHERE `main`.`attachments`.`ticketId` IN (?) ORDER BY `main`.`attachments`.`uploadedAt` DESC LIMIT ? OFFSET ?
‚úÖ AI draft generated for ticket TICK-1002
 POST /api/tickets/468b87bb-46cc-47af-86e2-f6344d992bc8/generate-draft 200 in 16589ms
prisma:query COMMIT
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE (`main`.`tickets`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ticket_comments`.`id`, `main`.`ticket_comments`.`ticketId`, `main`.`ticket_comments`.`userId`, `main`.`ticket_comments`.`content`, `main`.`ticket_comments`.`isPublic`, `main`.`ticket_comments`.`createdAt`, `main`.`ticket_comments`.`updatedAt` FROM `main`.`ticket_comments` WHERE `main`.`ticket_comments`.`ticketId` IN (?) ORDER BY `main`.`ticket_comments`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`attachments`.`id`, `main`.`attachments`.`ticketId`, `main`.`attachments`.`userId`, `main`.`attachments`.`fileName`, `main`.`attachments`.`fileSize`, `main`.`attachments`.`mimeType`, `main`.`attachments`.`filePath`, `main`.`attachments`.`uploadedAt`, `main`.`attachments`.`expiresAt` FROM `main`.`attachments` WHERE `main`.`attachments`.`ticketId` IN (?) ORDER BY `main`.`attachments`.`uploadedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`status`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`parentTicketId` FROM `main`.`tickets` WHERE `main`.`tickets`.`parentTicketId` IN (?) ORDER BY `main`.`tickets`.`createdAt` ASC LIMIT ? OFFSET ?
 GET /api/tickets/468b87bb-46cc-47af-86e2-f6344d992bc8 200 in 26ms
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`email` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query BEGIN IMMEDIATE
prisma:query UPDATE `main`.`tickets` SET `aiDraftResponse` = ?, `aiDraftGeneratedAt` = ?, `aiDraftGeneratedBy` = ?, `updatedAt` = ? WHERE (`main`.`tickets`.`id` = ? AND 1=1) RETURNING `id` AS `id`, `ticketNumber` AS `ticketNumber`, `title` AS `title`, `description` AS `description`, `status` AS `status`, `priority` AS `priority`, `category` AS `category`, `requesterId` AS `requesterId`, `assigneeId` AS `assigneeId`, `departmentId` AS `departmentId`, `emailConversationId` AS `emailConversationId`, `parentTicketId` AS `parentTicketId`, `aiDraftResponse` AS `aiDraftResponse`, `aiDraftGeneratedAt` AS `aiDraftGeneratedAt`, `aiDraftGeneratedBy` AS `aiDraftGeneratedBy`, `createdAt` AS `createdAt`, `updatedAt` AS `updatedAt`, `resolvedAt` AS `resolvedAt`, `closedAt` AS `closedAt`
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE `main`.`tickets`.`id` = ? LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ticket_comments`.`id`, `main`.`ticket_comments`.`ticketId`, `main`.`ticket_comments`.`userId`, `main`.`ticket_comments`.`content`, `main`.`ticket_comments`.`isPublic`, `main`.`ticket_comments`.`createdAt`, `main`.`ticket_comments`.`updatedAt` FROM `main`.`ticket_comments` WHERE `main`.`ticket_comments`.`ticketId` IN (?) ORDER BY `main`.`ticket_comments`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`attachments`.`id`, `main`.`attachments`.`ticketId`, `main`.`attachments`.`userId`, `main`.`attachments`.`fileName`, `main`.`attachments`.`fileSize`, `main`.`attachments`.`mimeType`, `main`.`attachments`.`filePath`, `main`.`attachments`.`uploadedAt`, `main`.`attachments`.`expiresAt` FROM `main`.`attachments` WHERE `main`.`attachments`.`ticketId` IN (?) ORDER BY `main`.`attachments`.`uploadedAt` DESC LIMIT ? OFFSET ?
prisma:query COMMIT
‚úÖ AI draft generated for ticket TICK-1002
 POST /api/tickets/468b87bb-46cc-47af-86e2-f6344d992bc8/generate-draft 200 in 15538ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE (`main`.`tickets`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ticket_comments`.`id`, `main`.`ticket_comments`.`ticketId`, `main`.`ticket_comments`.`userId`, `main`.`ticket_comments`.`content`, `main`.`ticket_comments`.`isPublic`, `main`.`ticket_comments`.`createdAt`, `main`.`ticket_comments`.`updatedAt` FROM `main`.`ticket_comments` WHERE `main`.`ticket_comments`.`ticketId` IN (?) ORDER BY `main`.`ticket_comments`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`attachments`.`id`, `main`.`attachments`.`ticketId`, `main`.`attachments`.`userId`, `main`.`attachments`.`fileName`, `main`.`attachments`.`fileSize`, `main`.`attachments`.`mimeType`, `main`.`attachments`.`filePath`, `main`.`attachments`.`uploadedAt`, `main`.`attachments`.`expiresAt` FROM `main`.`attachments` WHERE `main`.`attachments`.`ticketId` IN (?) ORDER BY `main`.`attachments`.`uploadedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`status`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`parentTicketId` FROM `main`.`tickets` WHERE `main`.`tickets`.`parentTicketId` IN (?) ORDER BY `main`.`tickets`.`createdAt` ASC LIMIT ? OFFSET ?
 GET /api/tickets/468b87bb-46cc-47af-86e2-f6344d992bc8 200 in 10ms
 ‚úì Compiled in 1210ms (2044 modules)
 ‚úì Compiled /api/users in 95ms (1110 modules)
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 174ms
 ‚úì Compiled in 578ms (2044 modules)
 ‚úì Compiled /api/users in 83ms (1110 modules)
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 156ms
 ‚úì Compiled in 621ms (2044 modules)
 ‚úì Compiled /api/users in 155ms (1110 modules)
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 248ms
 ‚úì Compiled in 599ms (2044 modules)
 ‚úì Compiled /api/users in 83ms (1110 modules)
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 158ms
 ‚úì Compiled in 628ms (2044 modules)
 ‚úì Compiled /api/users in 89ms (1110 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 175ms
 ‚úì Compiled in 395ms (997 modules)
 ‚úì Compiled in 482ms (1047 modules)
 ‚úì Compiled /api/users in 82ms (1110 modules)
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 163ms
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 11ms
 ‚úì Compiled in 475ms (1047 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 10ms
 GET /tickets/468b87bb-46cc-47af-86e2-f6344d992bc8 200 in 133ms
 ‚óã Compiling /api/auth/me ...
 ‚úì Compiled /api/auth/me in 720ms (1214 modules)
 ‚úì Compiled (1216 modules)
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/auth/me 200 in 1020ms
 GET /api/tickets/468b87bb-46cc-47af-86e2-f6344d992bc8 200 in 982ms
 GET /api/tickets/468b87bb-46cc-47af-86e2-f6344d992bc8 200 in 1121ms
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE `main`.`tickets`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ticket_comments`.`id`, `main`.`ticket_comments`.`ticketId`, `main`.`ticket_comments`.`userId`, `main`.`ticket_comments`.`content`, `main`.`ticket_comments`.`isPublic`, `main`.`ticket_comments`.`createdAt`, `main`.`ticket_comments`.`updatedAt` FROM `main`.`ticket_comments` WHERE `main`.`ticket_comments`.`ticketId` IN (?) ORDER BY `main`.`ticket_comments`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`attachments`.`id`, `main`.`attachments`.`ticketId`, `main`.`attachments`.`userId`, `main`.`attachments`.`fileName`, `main`.`attachments`.`fileSize`, `main`.`attachments`.`mimeType`, `main`.`attachments`.`filePath`, `main`.`attachments`.`uploadedAt`, `main`.`attachments`.`expiresAt` FROM `main`.`attachments` WHERE `main`.`attachments`.`ticketId` IN (?) ORDER BY `main`.`attachments`.`uploadedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`status`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`parentTicketId` FROM `main`.`tickets` WHERE `main`.`tickets`.`parentTicketId` IN (?) ORDER BY `main`.`tickets`.`createdAt` ASC LIMIT ? OFFSET ?
 ‚úì Compiled /api/users in 107ms (1220 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/tickets/468b87bb-46cc-47af-86e2-f6344d992bc8 200 in 280ms
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE (`main`.`tickets`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ticket_comments`.`id`, `main`.`ticket_comments`.`ticketId`, `main`.`ticket_comments`.`userId`, `main`.`ticket_comments`.`content`, `main`.`ticket_comments`.`isPublic`, `main`.`ticket_comments`.`createdAt`, `main`.`ticket_comments`.`updatedAt` FROM `main`.`ticket_comments` WHERE `main`.`ticket_comments`.`ticketId` IN (?) ORDER BY `main`.`ticket_comments`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`attachments`.`id`, `main`.`attachments`.`ticketId`, `main`.`attachments`.`userId`, `main`.`attachments`.`fileName`, `main`.`attachments`.`fileSize`, `main`.`attachments`.`mimeType`, `main`.`attachments`.`filePath`, `main`.`attachments`.`uploadedAt`, `main`.`attachments`.`expiresAt` FROM `main`.`attachments` WHERE `main`.`attachments`.`ticketId` IN (?) ORDER BY `main`.`attachments`.`uploadedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`status`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`parentTicketId` FROM `main`.`tickets` WHERE `main`.`tickets`.`parentTicketId` IN (?) ORDER BY `main`.`tickets`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 299ms
 GET /api/users 200 in 299ms
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 ‚úì Compiled /api/tickets/[id]/upload-draft-file in 107ms (1108 modules)
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 POST /api/tickets/468b87bb-46cc-47af-86e2-f6344d992bc8/upload-draft-file 200 in 364ms
 ‚úì Compiled /api/tickets/[id]/send-draft in 270ms (1449 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE (`main`.`tickets`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`email` = ? AND 1=1) LIMIT ? OFFSET ?
 POST /api/tickets/468b87bb-46cc-47af-86e2-f6344d992bc8/send-draft 500 in 593ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE (`main`.`tickets`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`email` = ? AND 1=1) LIMIT ? OFFSET ?
 POST /api/tickets/468b87bb-46cc-47af-86e2-f6344d992bc8/send-draft 500 in 24ms
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE (`main`.`tickets`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`email` = ? AND 1=1) LIMIT ? OFFSET ?
 POST /api/tickets/468b87bb-46cc-47af-86e2-f6344d992bc8/send-draft 500 in 27ms
 ‚úì Compiled in 745ms (997 modules)
 GET /tickets/468b87bb-46cc-47af-86e2-f6344d992bc8 200 in 175ms
 ‚úì Compiled /api/auth/me in 398ms (1214 modules)
 ‚úì Compiled in 1ms (1216 modules)
 ‚úì Compiled in 0ms (1216 modules)
 ‚úì Compiled in 0ms (1216 modules)
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE `main`.`tickets`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ticket_comments`.`id`, `main`.`ticket_comments`.`ticketId`, `main`.`ticket_comments`.`userId`, `main`.`ticket_comments`.`content`, `main`.`ticket_comments`.`isPublic`, `main`.`ticket_comments`.`createdAt`, `main`.`ticket_comments`.`updatedAt` FROM `main`.`ticket_comments` WHERE `main`.`ticket_comments`.`ticketId` IN (?) ORDER BY `main`.`ticket_comments`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`attachments`.`id`, `main`.`attachments`.`ticketId`, `main`.`attachments`.`userId`, `main`.`attachments`.`fileName`, `main`.`attachments`.`fileSize`, `main`.`attachments`.`mimeType`, `main`.`attachments`.`filePath`, `main`.`attachments`.`uploadedAt`, `main`.`attachments`.`expiresAt` FROM `main`.`attachments` WHERE `main`.`attachments`.`ticketId` IN (?) ORDER BY `main`.`attachments`.`uploadedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`status`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`parentTicketId` FROM `main`.`tickets` WHERE `main`.`tickets`.`parentTicketId` IN (?) ORDER BY `main`.`tickets`.`createdAt` ASC LIMIT ? OFFSET ?
 GET /api/tickets/468b87bb-46cc-47af-86e2-f6344d992bc8 200 in 921ms
 GET /api/tickets/468b87bb-46cc-47af-86e2-f6344d992bc8 200 in 871ms
 GET /api/auth/me 200 in 1053ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 ‚úì Compiled /api/users in 301ms (1220 modules)
 ‚úì Compiled in 0ms (1220 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/tickets/468b87bb-46cc-47af-86e2-f6344d992bc8 200 in 509ms
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE (`main`.`tickets`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ticket_comments`.`id`, `main`.`ticket_comments`.`ticketId`, `main`.`ticket_comments`.`userId`, `main`.`ticket_comments`.`content`, `main`.`ticket_comments`.`isPublic`, `main`.`ticket_comments`.`createdAt`, `main`.`ticket_comments`.`updatedAt` FROM `main`.`ticket_comments` WHERE `main`.`ticket_comments`.`ticketId` IN (?) ORDER BY `main`.`ticket_comments`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`attachments`.`id`, `main`.`attachments`.`ticketId`, `main`.`attachments`.`userId`, `main`.`attachments`.`fileName`, `main`.`attachments`.`fileSize`, `main`.`attachments`.`mimeType`, `main`.`attachments`.`filePath`, `main`.`attachments`.`uploadedAt`, `main`.`attachments`.`expiresAt` FROM `main`.`attachments` WHERE `main`.`attachments`.`ticketId` IN (?) ORDER BY `main`.`attachments`.`uploadedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`status`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`parentTicketId` FROM `main`.`tickets` WHERE `main`.`tickets`.`parentTicketId` IN (?) ORDER BY `main`.`tickets`.`createdAt` ASC LIMIT ? OFFSET ?
 ‚úì Compiled in 1ms (1220 modules)
 ‚úì Compiled in 1ms (1220 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/users 200 in 761ms
 GET /api/users 200 in 611ms
 GET /api/users 200 in 762ms
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 31ms
 ‚úì Compiled /api/tickets/[id]/upload-draft-file in 253ms (1222 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 POST /api/tickets/468b87bb-46cc-47af-86e2-f6344d992bc8/upload-draft-file 200 in 318ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 18ms
 ‚úì Compiled /api/tickets/[id]/send-draft in 426ms (1453 modules)
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE (`main`.`tickets`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`email` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query BEGIN IMMEDIATE
prisma:query INSERT INTO `main`.`ticket_comments` (`id`, `ticketId`, `userId`, `content`, `isPublic`, `createdAt`, `updatedAt`) VALUES (?,?,?,?,?,?,?) RETURNING `id` AS `id`
prisma:query SELECT `main`.`ticket_comments`.`id`, `main`.`ticket_comments`.`ticketId`, `main`.`ticket_comments`.`userId`, `main`.`ticket_comments`.`content`, `main`.`ticket_comments`.`isPublic`, `main`.`ticket_comments`.`createdAt`, `main`.`ticket_comments`.`updatedAt` FROM `main`.`ticket_comments` WHERE `main`.`ticket_comments`.`id` = ? LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`email` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query COMMIT
prisma:query BEGIN IMMEDIATE
prisma:query UPDATE `main`.`tickets` SET `aiDraftResponse` = ?, `aiDraftGeneratedAt` = ?, `aiDraftGeneratedBy` = ?, `assigneeId` = ?, `status` = ?, `updatedAt` = ? WHERE (`main`.`tickets`.`id` = ? AND 1=1) RETURNING `id` AS `id`, `ticketNumber` AS `ticketNumber`, `title` AS `title`, `description` AS `description`, `status` AS `status`, `priority` AS `priority`, `category` AS `category`, `requesterId` AS `requesterId`, `assigneeId` AS `assigneeId`, `departmentId` AS `departmentId`, `emailConversationId` AS `emailConversationId`, `parentTicketId` AS `parentTicketId`, `aiDraftResponse` AS `aiDraftResponse`, `aiDraftGeneratedAt` AS `aiDraftGeneratedAt`, `aiDraftGeneratedBy` AS `aiDraftGeneratedBy`, `createdAt` AS `createdAt`, `updatedAt` AS `updatedAt`, `resolvedAt` AS `resolvedAt`, `closedAt` AS `closedAt`
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE `main`.`tickets`.`id` = ? LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`email` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ticket_comments`.`id`, `main`.`ticket_comments`.`ticketId`, `main`.`ticket_comments`.`userId`, `main`.`ticket_comments`.`content`, `main`.`ticket_comments`.`isPublic`, `main`.`ticket_comments`.`createdAt`, `main`.`ticket_comments`.`updatedAt` FROM `main`.`ticket_comments` WHERE `main`.`ticket_comments`.`ticketId` IN (?) ORDER BY `main`.`ticket_comments`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`email` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`attachments`.`id`, `main`.`attachments`.`ticketId`, `main`.`attachments`.`userId`, `main`.`attachments`.`fileName`, `main`.`attachments`.`fileSize`, `main`.`attachments`.`mimeType`, `main`.`attachments`.`filePath`, `main`.`attachments`.`uploadedAt`, `main`.`attachments`.`expiresAt` FROM `main`.`attachments` WHERE `main`.`attachments`.`ticketId` IN (?) ORDER BY `main`.`attachments`.`uploadedAt` DESC LIMIT ? OFFSET ?
‚úÖ AI draft sent as comment for ticket TICK-1002
‚ö†Ô∏è  Email NOT sent for ticket TICK-1002: No emailConversationId (ticket was not created from email)
üì∏ Found 1 image(s) in draft, analyzing...
 POST /api/tickets/468b87bb-46cc-47af-86e2-f6344d992bc8/send-draft 200 in 524ms
prisma:query COMMIT
Failed to analyze image /uploads/draft-files/468b87bb-46cc-47af-86e2-f6344d992bc8/screenshot-2025-10-08-at-6-00-18-am-1759981337387.png: ENOENT: no such file or directory, open '/Users/owner/aidin/public/draft-images/468b87bb-46cc-47af-86e2-f6344d992bc8/screenshot-2025-10-08-at-6-00-18-am-1759981337387.png'
 ‚úì Compiled /api/tickets/[id]/save-to-kb in 149ms (1455 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 266ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE (`main`.`tickets`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
üì∏ Found 1 image(s) in content, analyzing...
Failed to analyze image /uploads/draft-files/468b87bb-46cc-47af-86e2-f6344d992bc8/screenshot-2025-10-08-at-6-00-18-am-1759981337387.png: ENOENT: no such file or directory, open '/Users/owner/aidin/public/draft-images/468b87bb-46cc-47af-86e2-f6344d992bc8/screenshot-2025-10-08-at-6-00-18-am-1759981337387.png'
‚úÖ AI-enhanced KB article: "Troubleshooting Printer Issues in Office Environments"
prisma:query INSERT INTO `main`.`knowledge_base` (`id`, `title`, `content`, `tags`, `departmentId`, `isActive`, `usageCount`, `createdAt`, `updatedAt`) VALUES (?,?,?,?,?,?,?,?,?) RETURNING `id` AS `id`, `title` AS `title`, `content` AS `content`, `tags` AS `tags`, `departmentId` AS `departmentId`, `isActive` AS `isActive`, `embedding` AS `embedding`, `images` AS `images`, `usageCount` AS `usageCount`, `createdAt` AS `createdAt`, `updatedAt` AS `updatedAt`
‚úÖ KB article created from ticket TICK-1002: 747f71c5-0493-43f0-a4cd-e3b55759c840 - "Troubleshooting Printer Issues in Office Environments"
 POST /api/tickets/468b87bb-46cc-47af-86e2-f6344d992bc8/save-to-kb 200 in 8519ms
prisma:query INSERT INTO `main`.`ticket_kb_usage` (`id`, `ticketId`, `kbId`, `relevance`, `usedInResponse`, `createdAt`) VALUES (?,?,?,?,?,?) RETURNING `id` AS `id`, `ticketId` AS `ticketId`, `kbId` AS `kbId`, `relevance` AS `relevance`, `usedInResponse` AS `usedInResponse`, `createdAt` AS `createdAt`
 ‚úì Compiled /api/tickets/[id] in 141ms (1456 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE (`main`.`tickets`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`email` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ticket_comments`.`id`, `main`.`ticket_comments`.`ticketId`, `main`.`ticket_comments`.`userId`, `main`.`ticket_comments`.`content`, `main`.`ticket_comments`.`isPublic`, `main`.`ticket_comments`.`createdAt`, `main`.`ticket_comments`.`updatedAt` FROM `main`.`ticket_comments` WHERE `main`.`ticket_comments`.`ticketId` IN (?) ORDER BY `main`.`ticket_comments`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`email` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`attachments`.`id`, `main`.`attachments`.`ticketId`, `main`.`attachments`.`userId`, `main`.`attachments`.`fileName`, `main`.`attachments`.`fileSize`, `main`.`attachments`.`mimeType`, `main`.`attachments`.`filePath`, `main`.`attachments`.`uploadedAt`, `main`.`attachments`.`expiresAt` FROM `main`.`attachments` WHERE `main`.`attachments`.`ticketId` IN (?) ORDER BY `main`.`attachments`.`uploadedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`status`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`parentTicketId` FROM `main`.`tickets` WHERE `main`.`tickets`.`parentTicketId` IN (?) ORDER BY `main`.`tickets`.`createdAt` ASC LIMIT ? OFFSET ?
 GET /api/tickets/468b87bb-46cc-47af-86e2-f6344d992bc8 200 in 204ms
prisma:query INSERT INTO `main`.`knowledge_base` (`id`, `title`, `content`, `tags`, `departmentId`, `isActive`, `usageCount`, `createdAt`, `updatedAt`) VALUES (?,?,?,?,?,?,?,?,?) RETURNING `id` AS `id`, `title` AS `title`, `content` AS `content`, `tags` AS `tags`, `departmentId` AS `departmentId`, `isActive` AS `isActive`, `embedding` AS `embedding`, `images` AS `images`, `usageCount` AS `usageCount`, `createdAt` AS `createdAt`, `updatedAt` AS `updatedAt`
prisma:query INSERT INTO `main`.`ticket_kb_usage` (`id`, `ticketId`, `kbId`, `relevance`, `usedInResponse`, `createdAt`) VALUES (?,?,?,?,?,?) RETURNING `id` AS `id`, `ticketId` AS `ticketId`, `kbId` AS `kbId`, `relevance` AS `relevance`, `usedInResponse` AS `usedInResponse`, `createdAt` AS `createdAt`
‚úÖ Auto-created KB article from ticket TICK-1002: a1d747a2-c0f2-4e9d-a9d5-74425c291b17 - "Troubleshooting Printer Issues in Office Environments"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 20ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 10ms
 ‚óã Compiling /knowledge-base ...
 ‚úì Compiled /knowledge-base in 904ms (2040 modules)
 ‚úì Compiled /api/admin/departments in 117ms (1115 modules)
 ‚úì Compiled (1118 modules)
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT 1
prisma:query SELECT `main`.`knowledge_base`.`id`, `main`.`knowledge_base`.`title`, `main`.`knowledge_base`.`content`, `main`.`knowledge_base`.`tags`, `main`.`knowledge_base`.`departmentId`, `main`.`knowledge_base`.`isActive`, `main`.`knowledge_base`.`embedding`, `main`.`knowledge_base`.`images`, `main`.`knowledge_base`.`usageCount`, `main`.`knowledge_base`.`createdAt`, `main`.`knowledge_base`.`updatedAt` FROM `main`.`knowledge_base` WHERE `main`.`knowledge_base`.`isActive` = ? ORDER BY `main`.`knowledge_base`.`updatedAt` DESC LIMIT ? OFFSET ?
 GET /api/knowledge-base 200 in 190ms
 GET /api/knowledge-base 200 in 312ms
prisma:query SELECT `main`.`knowledge_base`.`id`, `main`.`knowledge_base`.`title`, `main`.`knowledge_base`.`content`, `main`.`knowledge_base`.`tags`, `main`.`knowledge_base`.`departmentId`, `main`.`knowledge_base`.`isActive`, `main`.`knowledge_base`.`embedding`, `main`.`knowledge_base`.`images`, `main`.`knowledge_base`.`usageCount`, `main`.`knowledge_base`.`createdAt`, `main`.`knowledge_base`.`updatedAt` FROM `main`.`knowledge_base` WHERE `main`.`knowledge_base`.`isActive` = ? ORDER BY `main`.`knowledge_base`.`updatedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
 GET /api/admin/departments 200 in 314ms
 GET /api/admin/departments 200 in 182ms
 ‚úì Compiled in 609ms (1050 modules)
 ‚úì Compiled in 564ms (708 modules)
 ‚úì Compiled in 661ms (1050 modules)
 ‚úì Compiled in 372ms (708 modules)
 ‚úì Compiled in 501ms (1050 modules)
 ‚úì Compiled in 474ms (1050 modules)
 ‚úì Compiled in 364ms (708 modules)
 ‚úì Compiled in 367ms (708 modules)
 ‚úì Compiled in 484ms (1050 modules)
 GET /knowledge-base 200 in 92ms
 ‚óã Compiling /api/auth/me ...
 ‚úì Compiled /api/auth/me in 677ms (819 modules)
 ‚úì Compiled (824 modules)
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT 1
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
 GET /api/auth/me 200 in 769ms
 GET /api/admin/departments 200 in 726ms
 GET /api/admin/departments 200 in 867ms
prisma:query SELECT `main`.`knowledge_base`.`id`, `main`.`knowledge_base`.`title`, `main`.`knowledge_base`.`content`, `main`.`knowledge_base`.`tags`, `main`.`knowledge_base`.`departmentId`, `main`.`knowledge_base`.`isActive`, `main`.`knowledge_base`.`embedding`, `main`.`knowledge_base`.`images`, `main`.`knowledge_base`.`usageCount`, `main`.`knowledge_base`.`createdAt`, `main`.`knowledge_base`.`updatedAt` FROM `main`.`knowledge_base` WHERE `main`.`knowledge_base`.`isActive` = ? ORDER BY `main`.`knowledge_base`.`updatedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`knowledge_base`.`id`, `main`.`knowledge_base`.`title`, `main`.`knowledge_base`.`content`, `main`.`knowledge_base`.`tags`, `main`.`knowledge_base`.`departmentId`, `main`.`knowledge_base`.`isActive`, `main`.`knowledge_base`.`embedding`, `main`.`knowledge_base`.`images`, `main`.`knowledge_base`.`usageCount`, `main`.`knowledge_base`.`createdAt`, `main`.`knowledge_base`.`updatedAt` FROM `main`.`knowledge_base` WHERE `main`.`knowledge_base`.`isActive` = ? ORDER BY `main`.`knowledge_base`.`updatedAt` DESC LIMIT ? OFFSET ?
 GET /api/knowledge-base 200 in 868ms
 GET /api/knowledge-base 200 in 868ms
 ‚úì Compiled /api/tickets in 264ms (821 modules)
 ‚úì Compiled (1170 modules)
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`status`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`updatedAt` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?
‚è±Ô∏è stats-fetch: 71.44ms
 GET /api/stats 200 in 684ms
Timer 'stats-fetch' not found
 GET /api/stats 200 in 744ms
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`status`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`updatedAt` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_preferences`.`id`, `main`.`user_preferences`.`userId`, `main`.`user_preferences`.`personalViewOrder`, `main`.`user_preferences`.`companyViewOrder`, `main`.`user_preferences`.`dashboardCardOrder`, `main`.`user_preferences`.`createdAt`, `main`.`user_preferences`.`updatedAt` FROM `main`.`user_preferences` WHERE `main`.`user_preferences`.`userId` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE `main`.`tickets`.`status` IN (?) ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE `main`.`tickets`.`status` IN (?) ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
 GET /api/user-preferences 200 in 746ms
 GET /api/user-preferences 200 in 685ms
‚è±Ô∏è tickets-fetch: 12.38ms
 GET /api/tickets?limit=8&status=NEW 200 in 748ms
Timer 'tickets-fetch' not found
 GET /api/tickets?limit=8&status=NEW 200 in 688ms
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE `main`.`tickets`.`status` IN (?) LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE `main`.`tickets`.`status` IN (?) LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
‚è±Ô∏è stats-fetch: 3.17ms
 GET /api/stats 200 in 26ms
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`status`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`updatedAt` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE `main`.`tickets`.`status` IN (?) ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_preferences`.`id`, `main`.`user_preferences`.`userId`, `main`.`user_preferences`.`personalViewOrder`, `main`.`user_preferences`.`companyViewOrder`, `main`.`user_preferences`.`dashboardCardOrder`, `main`.`user_preferences`.`createdAt`, `main`.`user_preferences`.`updatedAt` FROM `main`.`user_preferences` WHERE (`main`.`user_preferences`.`userId` = ? AND 1=1) LIMIT ? OFFSET ?
 GET /api/user-preferences 200 in 27ms
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE `main`.`tickets`.`status` IN (?) LIMIT ? OFFSET ?) AS `sub`
‚è±Ô∏è tickets-fetch: 3.98ms
 GET /api/tickets?limit=8&status=NEW 200 in 28ms
 GET /dashboard 200 in 128ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
‚è±Ô∏è stats-fetch: 2.98ms
 GET /api/stats 200 in 34ms
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`status`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`updatedAt` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE `main`.`tickets`.`status` IN (?) ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_preferences`.`id`, `main`.`user_preferences`.`userId`, `main`.`user_preferences`.`personalViewOrder`, `main`.`user_preferences`.`companyViewOrder`, `main`.`user_preferences`.`dashboardCardOrder`, `main`.`user_preferences`.`createdAt`, `main`.`user_preferences`.`updatedAt` FROM `main`.`user_preferences` WHERE (`main`.`user_preferences`.`userId` = ? AND 1=1) LIMIT ? OFFSET ?
 GET /api/user-preferences 200 in 40ms
‚è±Ô∏è tickets-fetch: 6.41ms
 GET /api/tickets?limit=8&status=NEW 200 in 41ms
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE `main`.`tickets`.`status` IN (?) LIMIT ? OFFSET ?) AS `sub`
 ‚úì Compiled /api/auth/me in 93ms (1172 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
‚è±Ô∏è stats-fetch: 7.87ms
 GET /api/stats 200 in 235ms
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`status`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`updatedAt` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_preferences`.`id`, `main`.`user_preferences`.`userId`, `main`.`user_preferences`.`personalViewOrder`, `main`.`user_preferences`.`companyViewOrder`, `main`.`user_preferences`.`dashboardCardOrder`, `main`.`user_preferences`.`createdAt`, `main`.`user_preferences`.`updatedAt` FROM `main`.`user_preferences` WHERE (`main`.`user_preferences`.`userId` = ? AND 1=1) LIMIT ? OFFSET ?
 GET /api/auth/me 200 in 302ms
 GET /api/user-preferences 200 in 290ms
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE `main`.`tickets`.`status` IN (?) ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
‚è±Ô∏è tickets-fetch: 14.85ms
 GET /api/tickets?limit=8&status=NEW 200 in 291ms
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE `main`.`tickets`.`status` IN (?) LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
‚è±Ô∏è stats-fetch: 2.99ms
 GET /api/stats 200 in 28ms
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`status`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`updatedAt` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/user-preferences 200 in 32ms
prisma:query SELECT `main`.`user_preferences`.`id`, `main`.`user_preferences`.`userId`, `main`.`user_preferences`.`personalViewOrder`, `main`.`user_preferences`.`companyViewOrder`, `main`.`user_preferences`.`dashboardCardOrder`, `main`.`user_preferences`.`createdAt`, `main`.`user_preferences`.`updatedAt` FROM `main`.`user_preferences` WHERE (`main`.`user_preferences`.`userId` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE `main`.`tickets`.`status` IN (?) ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE `main`.`tickets`.`status` IN (?) LIMIT ? OFFSET ?) AS `sub`
‚è±Ô∏è tickets-fetch: 3.40ms
 GET /api/tickets?limit=8&status=NEW 200 in 33ms
 ‚úì Compiled /api/admin/departments in 107ms (1174 modules)
 ‚úì Compiled (1176 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`knowledge_base`.`id`, `main`.`knowledge_base`.`title`, `main`.`knowledge_base`.`content`, `main`.`knowledge_base`.`tags`, `main`.`knowledge_base`.`departmentId`, `main`.`knowledge_base`.`isActive`, `main`.`knowledge_base`.`embedding`, `main`.`knowledge_base`.`images`, `main`.`knowledge_base`.`usageCount`, `main`.`knowledge_base`.`createdAt`, `main`.`knowledge_base`.`updatedAt` FROM `main`.`knowledge_base` WHERE `main`.`knowledge_base`.`isActive` = ? ORDER BY `main`.`knowledge_base`.`updatedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`knowledge_base`.`id`, `main`.`knowledge_base`.`title`, `main`.`knowledge_base`.`content`, `main`.`knowledge_base`.`tags`, `main`.`knowledge_base`.`departmentId`, `main`.`knowledge_base`.`isActive`, `main`.`knowledge_base`.`embedding`, `main`.`knowledge_base`.`images`, `main`.`knowledge_base`.`usageCount`, `main`.`knowledge_base`.`createdAt`, `main`.`knowledge_base`.`updatedAt` FROM `main`.`knowledge_base` WHERE `main`.`knowledge_base`.`isActive` = ? ORDER BY `main`.`knowledge_base`.`updatedAt` DESC LIMIT ? OFFSET ?
 GET /api/knowledge-base 200 in 220ms
 GET /api/knowledge-base 200 in 273ms
 GET /api/admin/departments 200 in 273ms
 GET /api/admin/departments 200 in 223ms
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
 ‚úì Compiled in 461ms (708 modules)
 ‚úì Compiled in 618ms (1050 modules)
 ‚úì Compiled /api/knowledge-base in 75ms (820 modules)
 ‚úì Compiled (822 modules)
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT 1
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
 GET /api/admin/departments 200 in 220ms
 GET /api/admin/departments 200 in 233ms
 GET /api/knowledge-base 200 in 234ms
 GET /api/knowledge-base 200 in 222ms
prisma:query SELECT `main`.`knowledge_base`.`id`, `main`.`knowledge_base`.`title`, `main`.`knowledge_base`.`content`, `main`.`knowledge_base`.`tags`, `main`.`knowledge_base`.`departmentId`, `main`.`knowledge_base`.`isActive`, `main`.`knowledge_base`.`embedding`, `main`.`knowledge_base`.`images`, `main`.`knowledge_base`.`usageCount`, `main`.`knowledge_base`.`createdAt`, `main`.`knowledge_base`.`updatedAt` FROM `main`.`knowledge_base` WHERE `main`.`knowledge_base`.`isActive` = ? ORDER BY `main`.`knowledge_base`.`updatedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`knowledge_base`.`id`, `main`.`knowledge_base`.`title`, `main`.`knowledge_base`.`content`, `main`.`knowledge_base`.`tags`, `main`.`knowledge_base`.`departmentId`, `main`.`knowledge_base`.`isActive`, `main`.`knowledge_base`.`embedding`, `main`.`knowledge_base`.`images`, `main`.`knowledge_base`.`usageCount`, `main`.`knowledge_base`.`createdAt`, `main`.`knowledge_base`.`updatedAt` FROM `main`.`knowledge_base` WHERE `main`.`knowledge_base`.`isActive` = ? ORDER BY `main`.`knowledge_base`.`updatedAt` DESC LIMIT ? OFFSET ?
 ‚úì Compiled in 410ms (822 modules)
 ‚úì Compiled in 524ms (1050 modules)
 ‚úì Compiled in 485ms (1050 modules)
 ‚úì Compiled in 394ms (708 modules)
 ‚úì Compiled in 499ms (1050 modules)
 ‚úì Compiled in 379ms (708 modules)
 GET /knowledge-base 200 in 110ms
 ‚úì Compiled /api/auth/me in 86ms (819 modules)
 ‚úì Compiled (824 modules)
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/auth/me 200 in 253ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT 1
prisma:query SELECT `main`.`knowledge_base`.`id`, `main`.`knowledge_base`.`title`, `main`.`knowledge_base`.`content`, `main`.`knowledge_base`.`tags`, `main`.`knowledge_base`.`departmentId`, `main`.`knowledge_base`.`isActive`, `main`.`knowledge_base`.`embedding`, `main`.`knowledge_base`.`images`, `main`.`knowledge_base`.`usageCount`, `main`.`knowledge_base`.`createdAt`, `main`.`knowledge_base`.`updatedAt` FROM `main`.`knowledge_base` WHERE `main`.`knowledge_base`.`isActive` = ? ORDER BY `main`.`knowledge_base`.`updatedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`knowledge_base`.`id`, `main`.`knowledge_base`.`title`, `main`.`knowledge_base`.`content`, `main`.`knowledge_base`.`tags`, `main`.`knowledge_base`.`departmentId`, `main`.`knowledge_base`.`isActive`, `main`.`knowledge_base`.`embedding`, `main`.`knowledge_base`.`images`, `main`.`knowledge_base`.`usageCount`, `main`.`knowledge_base`.`createdAt`, `main`.`knowledge_base`.`updatedAt` FROM `main`.`knowledge_base` WHERE `main`.`knowledge_base`.`isActive` = ? ORDER BY `main`.`knowledge_base`.`updatedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
 GET /api/knowledge-base 200 in 255ms
 GET /api/knowledge-base 200 in 296ms
 GET /api/admin/departments 200 in 297ms
 GET /api/admin/departments 200 in 257ms
 ‚úì Compiled in 458ms (968 modules)
 ‚úì Compiled in 617ms (1050 modules)
 ‚úì Compiled in 492ms (1050 modules)
 ‚úì Compiled in 426ms (968 modules)
 ‚úì Compiled in 530ms (968 modules)
 ‚úì Compiled in 551ms (968 modules)
 ‚úì Compiled in 567ms (1050 modules)
 ‚úì Compiled in 492ms (1050 modules)
 ‚úì Compiled in 462ms (1050 modules)
 ‚úì Compiled in 466ms (1050 modules)
 ‚úì Compiled in 462ms (1050 modules)
 ‚úì Compiled in 1127ms (2018 modules)
 ‚úì Compiled in 473ms (1050 modules)
 GET /knowledge-base 200 in 116ms
 ‚óã Compiling /api/auth/me ...
 ‚úì Compiled /api/auth/me in 814ms (1079 modules)
 ‚úì Compiled in 0ms (1084 modules)
 ‚úì Compiled in 0ms (1084 modules)
 ‚úì Compiled in 0ms (1084 modules)
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT 1
Error fetching knowledge base: PrismaClientValidationError: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    isActive: true
  },
  include: {
    department: {
      select: {
        name: true,
        color: true
      }
    },
    createdBy: {
    ~~~~~~~~~
      select: {
        id: true,
        firstName: true,
        lastName: true,
        email: true
      }
    },
?   ticketResponses?: true
  },
  orderBy: {
    updatedAt: "desc"
  }
}

Unknown field `createdBy` for include statement on model `KnowledgeBase`. Available options are marked with ?.
    at Nn (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:4040:11)
    at ei.handleRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7157:13)
    at ei.handleAndLogRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7144:18)
    at ei.request (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7125:18)
    at async a (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7779:25)
    at async GET (webpack-internal:///(rsc)/./app/api/knowledge-base/route.js:49:26)
    at async /Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:53446
    at async e_.execute (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:44747)
    at async e_.handle (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:54700)
    at async doRender (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1377:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1599:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1507:28)
    at async DevServer.renderPageComponent (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:920:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/owner/aidin/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:816:17)
    at async /Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/owner/aidin/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:174:21)
    at async handleRequest (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:353:24)
    at async requestHandlerImpl (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:377:13)
    at async Server.requestListener (/Users/owner/aidin/node_modules/next/dist/server/lib/start-server.js:141:13) {
  clientVersion: '6.16.1'
}
 GET /api/knowledge-base 500 in 1204ms
Error fetching knowledge base: PrismaClientValidationError: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    isActive: true
  },
  include: {
    department: {
      select: {
        name: true,
        color: true
      }
    },
    createdBy: {
    ~~~~~~~~~
      select: {
        id: true,
        firstName: true,
        lastName: true,
        email: true
      }
    },
?   ticketResponses?: true
  },
  orderBy: {
    updatedAt: "desc"
  }
}

Unknown field `createdBy` for include statement on model `KnowledgeBase`. Available options are marked with ?.
    at Nn (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:4040:11)
    at ei.handleRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7157:13)
    at ei.handleAndLogRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7144:18)
    at ei.request (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7125:18)
    at async a (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7779:25)
    at async GET (webpack-internal:///(rsc)/./app/api/knowledge-base/route.js:49:26)
    at async /Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:53446
    at async e_.execute (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:44747)
    at async e_.handle (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:54700)
    at async doRender (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1377:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1599:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1507:28)
    at async DevServer.renderPageComponent (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:920:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/owner/aidin/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:816:17)
    at async /Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/owner/aidin/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:174:21)
    at async handleRequest (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:353:24)
    at async requestHandlerImpl (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:377:13)
    at async Server.requestListener (/Users/owner/aidin/node_modules/next/dist/server/lib/start-server.js:141:13) {
  clientVersion: '6.16.1'
}
 GET /api/knowledge-base 500 in 1028ms
 GET /api/auth/me 200 in 1265ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/admin/departments 200 in 1180ms
 GET /api/admin/departments 200 in 1358ms
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
 GET /knowledge-base 200 in 112ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
Error fetching knowledge base: PrismaClientValidationError: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    isActive: true
  },
  include: {
    department: {
      select: {
        name: true,
        color: true
      }
    },
    createdBy: {
    ~~~~~~~~~
      select: {
        id: true,
        firstName: true,
        lastName: true,
        email: true
      }
    },
?   ticketResponses?: true
  },
  orderBy: {
    updatedAt: "desc"
  }
}

Unknown field `createdBy` for include statement on model `KnowledgeBase`. Available options are marked with ?.
    at Nn (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:4040:11)
    at ei.handleRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7157:13)
    at ei.handleAndLogRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7144:18)
    at ei.request (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7125:18)
    at async a (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7779:25)
    at async GET (webpack-internal:///(rsc)/./app/api/knowledge-base/route.js:49:26)
    at async /Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:53446
    at async e_.execute (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:44747)
    at async e_.handle (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:54700)
    at async doRender (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1377:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1599:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1507:28)
    at async DevServer.renderPageComponent (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:920:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/owner/aidin/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:816:17)
    at async /Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/owner/aidin/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:174:21)
    at async handleRequest (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:353:24)
    at async requestHandlerImpl (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:377:13)
    at async Server.requestListener (/Users/owner/aidin/node_modules/next/dist/server/lib/start-server.js:141:13) {
  clientVersion: '6.16.1'
}
 GET /api/knowledge-base 500 in 37ms
Error fetching knowledge base: PrismaClientValidationError: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    isActive: true
  },
  include: {
    department: {
      select: {
        name: true,
        color: true
      }
    },
    createdBy: {
    ~~~~~~~~~
      select: {
        id: true,
        firstName: true,
        lastName: true,
        email: true
      }
    },
?   ticketResponses?: true
  },
  orderBy: {
    updatedAt: "desc"
  }
}

Unknown field `createdBy` for include statement on model `KnowledgeBase`. Available options are marked with ?.
    at Nn (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:4040:11)
    at ei.handleRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7157:13)
    at ei.handleAndLogRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7144:18)
    at ei.request (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7125:18)
    at async a (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7779:25)
    at async GET (webpack-internal:///(rsc)/./app/api/knowledge-base/route.js:49:26)
    at async /Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:53446
    at async e_.execute (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:44747)
    at async e_.handle (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:54700)
    at async doRender (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1377:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1599:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1507:28)
    at async DevServer.renderPageComponent (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:920:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/owner/aidin/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:816:17)
    at async /Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/owner/aidin/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:174:21)
    at async handleRequest (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:353:24)
    at async requestHandlerImpl (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:377:13)
    at async Server.requestListener (/Users/owner/aidin/node_modules/next/dist/server/lib/start-server.js:141:13) {
  clientVersion: '6.16.1'
}
 GET /api/knowledge-base 500 in 37ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/admin/departments 200 in 45ms
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/auth/me 200 in 27ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
 GET /api/admin/departments 200 in 22ms
 ‚úì Compiled /api/user-preferences in 290ms (1088 modules)
 ‚úì Compiled (1436 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`status`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`updatedAt` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`status`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`updatedAt` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?
prisma:query SELECT 1
‚è±Ô∏è stats-fetch: 72.72ms
 GET /api/stats 200 in 736ms
Timer 'stats-fetch' not found
 GET /api/stats 200 in 804ms
 GET /api/user-preferences 200 in 804ms
 GET /api/user-preferences 200 in 736ms
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE `main`.`tickets`.`status` IN (?) ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE `main`.`tickets`.`status` IN (?) ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_preferences`.`id`, `main`.`user_preferences`.`userId`, `main`.`user_preferences`.`personalViewOrder`, `main`.`user_preferences`.`companyViewOrder`, `main`.`user_preferences`.`dashboardCardOrder`, `main`.`user_preferences`.`createdAt`, `main`.`user_preferences`.`updatedAt` FROM `main`.`user_preferences` WHERE `main`.`user_preferences`.`userId` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE `main`.`tickets`.`status` IN (?) LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE `main`.`tickets`.`status` IN (?) LIMIT ? OFFSET ?) AS `sub`
‚è±Ô∏è tickets-fetch: 16.33ms
 GET /api/tickets?limit=8&status=NEW 200 in 804ms
Timer 'tickets-fetch' not found
 GET /api/tickets?limit=8&status=NEW 200 in 738ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
‚è±Ô∏è stats-fetch: 3.39ms
 GET /api/stats 200 in 29ms
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`status`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`updatedAt` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE `main`.`tickets`.`status` IN (?) ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_preferences`.`id`, `main`.`user_preferences`.`userId`, `main`.`user_preferences`.`personalViewOrder`, `main`.`user_preferences`.`companyViewOrder`, `main`.`user_preferences`.`dashboardCardOrder`, `main`.`user_preferences`.`createdAt`, `main`.`user_preferences`.`updatedAt` FROM `main`.`user_preferences` WHERE (`main`.`user_preferences`.`userId` = ? AND 1=1) LIMIT ? OFFSET ?
 GET /api/user-preferences 200 in 32ms
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE `main`.`tickets`.`status` IN (?) LIMIT ? OFFSET ?) AS `sub`
‚è±Ô∏è tickets-fetch: 5.55ms
 GET /api/tickets?limit=8&status=NEW 200 in 33ms
 ‚úì Compiled /tickets in 224ms (1645 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT 1
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE 1=1 ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE `main`.`tickets`.`status` IN (?) ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`ticketId` FROM `main`.`ai_decisions` WHERE `main`.`ai_decisions`.`ticketId` IN (?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
‚è±Ô∏è tickets-fetch: 16.73ms
 GET /api/tickets?sortBy=createdAt&sortOrder=desc&limit=1000 200 in 89ms
Timer 'tickets-fetch' not found
 GET /api/tickets?status=NEW&sortBy=createdAt&sortOrder=desc 200 in 90ms
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE `main`.`tickets`.`status` IN (?) LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT `main`.`user_preferences`.`id`, `main`.`user_preferences`.`userId`, `main`.`user_preferences`.`personalViewOrder`, `main`.`user_preferences`.`companyViewOrder`, `main`.`user_preferences`.`dashboardCardOrder`, `main`.`user_preferences`.`createdAt`, `main`.`user_preferences`.`updatedAt` FROM `main`.`user_preferences` WHERE (`main`.`user_preferences`.`userId` = ? AND 1=1) LIMIT ? OFFSET ?
 GET /api/user-preferences 200 in 91ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE 1=1 ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`ticketId` FROM `main`.`ai_decisions` WHERE `main`.`ai_decisions`.`ticketId` IN (?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE 1=1 ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE 1=1 ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`ticketId` FROM `main`.`ai_decisions` WHERE `main`.`ai_decisions`.`ticketId` IN (?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`ticketId` FROM `main`.`ai_decisions` WHERE `main`.`ai_decisions`.`ticketId` IN (?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE `main`.`tickets`.`status` IN (?) ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE `main`.`tickets`.`status` IN (?) LIMIT ? OFFSET ?) AS `sub`
‚è±Ô∏è tickets-fetch: 8.36ms
 GET /api/tickets?sortBy=createdAt&sortOrder=desc&limit=1000 200 in 43ms
Timer 'tickets-fetch' not found
 GET /api/tickets?sortBy=createdAt&sortOrder=desc&limit=1000 200 in 43ms
Timer 'tickets-fetch' not found
 GET /api/tickets?sortBy=createdAt&sortOrder=desc&limit=1000 200 in 44ms
Timer 'tickets-fetch' not found
 GET /api/tickets?status=NEW&sortBy=createdAt&sortOrder=desc 200 in 45ms
prisma:query SELECT `main`.`user_preferences`.`id`, `main`.`user_preferences`.`userId`, `main`.`user_preferences`.`personalViewOrder`, `main`.`user_preferences`.`companyViewOrder`, `main`.`user_preferences`.`dashboardCardOrder`, `main`.`user_preferences`.`createdAt`, `main`.`user_preferences`.`updatedAt` FROM `main`.`user_preferences` WHERE (`main`.`user_preferences`.`userId` = ? AND 1=1) LIMIT ? OFFSET ?
 GET /api/user-preferences 200 in 46ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
‚è±Ô∏è stats-fetch: 3.91ms
 GET /api/stats 200 in 47ms
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`status`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`updatedAt` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?
 ‚úì Compiled /api/users in 141ms (1647 modules)
 ‚úì Compiled (1649 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE `main`.`tickets`.`status` IN (?) ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
‚è±Ô∏è tickets-fetch: 16.11ms
 GET /api/tickets?status=NEW&sortBy=createdAt&sortOrder=desc 200 in 480ms
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE `main`.`tickets`.`status` IN (?) LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE `main`.`tickets`.`status` IN (?) ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`status`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`updatedAt` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?
 GET /api/admin/departments 200 in 513ms
 GET /api/admin/departments 200 in 462ms
 GET /api/users 200 in 515ms
‚è±Ô∏è stats-fetch: 4.61ms
 GET /api/stats 200 in 502ms
‚è±Ô∏è tickets-fetch: 28.93ms
 GET /api/tickets?status=NEW&sortBy=createdAt&sortOrder=desc 200 in 465ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE `main`.`tickets`.`status` IN (?) LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/users 200 in 22ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE 1=1 ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`ticketId` FROM `main`.`ai_decisions` WHERE `main`.`ai_decisions`.`ticketId` IN (?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
‚è±Ô∏è tickets-fetch: 2.36ms
 GET /api/tickets?sortBy=createdAt&sortOrder=desc&limit=1000 200 in 21ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`status`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`updatedAt` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?
‚è±Ô∏è stats-fetch: 3.11ms
 GET /api/stats 200 in 37ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
 GET /api/admin/departments 200 in 44ms
 GET /api/users 200 in 45ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE (`main`.`tickets`.`status` NOT IN (?) AND `main`.`tickets`.`assigneeId` IS NULL) ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ai_decisions`.`id`, `main`.`ai_decisions`.`finalDepartment`, `main`.`ai_decisions`.`suggestedDepartment`, `main`.`ai_decisions`.`departmentConfidence`, `main`.`ai_decisions`.`ticketId` FROM `main`.`ai_decisions` WHERE `main`.`ai_decisions`.`ticketId` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE (`main`.`tickets`.`status` NOT IN (?) AND `main`.`tickets`.`assigneeId` IS NULL) LIMIT ? OFFSET ?) AS `sub`
‚è±Ô∏è tickets-fetch: 4.35ms
 GET /api/tickets?excludeStatus=SOLVED&unassigned=true&sortBy=createdAt&sortOrder=desc 200 in 45ms
 ‚úì Compiled /tickets/[id] in 223ms (1683 modules)
 ‚úì Compiled /api/tickets/[id] in 188ms (1685 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/tickets/586d9976-1afc-4b4e-8d95-6f3c5c536f79 200 in 213ms
 GET /api/tickets/586d9976-1afc-4b4e-8d95-6f3c5c536f79 200 in 268ms
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE `main`.`tickets`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ticket_comments`.`id`, `main`.`ticket_comments`.`ticketId`, `main`.`ticket_comments`.`userId`, `main`.`ticket_comments`.`content`, `main`.`ticket_comments`.`isPublic`, `main`.`ticket_comments`.`createdAt`, `main`.`ticket_comments`.`updatedAt` FROM `main`.`ticket_comments` WHERE `main`.`ticket_comments`.`ticketId` IN (?) ORDER BY `main`.`ticket_comments`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`attachments`.`id`, `main`.`attachments`.`ticketId`, `main`.`attachments`.`userId`, `main`.`attachments`.`fileName`, `main`.`attachments`.`fileSize`, `main`.`attachments`.`mimeType`, `main`.`attachments`.`filePath`, `main`.`attachments`.`uploadedAt`, `main`.`attachments`.`expiresAt` FROM `main`.`attachments` WHERE `main`.`attachments`.`ticketId` IN (?) ORDER BY `main`.`attachments`.`uploadedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`status`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`parentTicketId` FROM `main`.`tickets` WHERE `main`.`tickets`.`parentTicketId` IN (?) ORDER BY `main`.`tickets`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 23ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 104ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 104ms
 ‚úì Compiled /api/tickets/[id]/generate-draft in 268ms (1460 modules)
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE (`main`.`tickets`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
ü§ñ Generating AI draft for ticket TICK-1003...
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 21ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`email` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query BEGIN IMMEDIATE
prisma:query UPDATE `main`.`tickets` SET `aiDraftResponse` = ?, `aiDraftGeneratedAt` = ?, `aiDraftGeneratedBy` = ?, `updatedAt` = ? WHERE (`main`.`tickets`.`id` = ? AND 1=1) RETURNING `id` AS `id`, `ticketNumber` AS `ticketNumber`, `title` AS `title`, `description` AS `description`, `status` AS `status`, `priority` AS `priority`, `category` AS `category`, `requesterId` AS `requesterId`, `assigneeId` AS `assigneeId`, `departmentId` AS `departmentId`, `emailConversationId` AS `emailConversationId`, `parentTicketId` AS `parentTicketId`, `aiDraftResponse` AS `aiDraftResponse`, `aiDraftGeneratedAt` AS `aiDraftGeneratedAt`, `aiDraftGeneratedBy` AS `aiDraftGeneratedBy`, `createdAt` AS `createdAt`, `updatedAt` AS `updatedAt`, `resolvedAt` AS `resolvedAt`, `closedAt` AS `closedAt`
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE `main`.`tickets`.`id` = ? LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ticket_comments`.`id`, `main`.`ticket_comments`.`ticketId`, `main`.`ticket_comments`.`userId`, `main`.`ticket_comments`.`content`, `main`.`ticket_comments`.`isPublic`, `main`.`ticket_comments`.`createdAt`, `main`.`ticket_comments`.`updatedAt` FROM `main`.`ticket_comments` WHERE `main`.`ticket_comments`.`ticketId` IN (?) ORDER BY `main`.`ticket_comments`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`attachments`.`id`, `main`.`attachments`.`ticketId`, `main`.`attachments`.`userId`, `main`.`attachments`.`fileName`, `main`.`attachments`.`fileSize`, `main`.`attachments`.`mimeType`, `main`.`attachments`.`filePath`, `main`.`attachments`.`uploadedAt`, `main`.`attachments`.`expiresAt` FROM `main`.`attachments` WHERE `main`.`attachments`.`ticketId` IN (?) ORDER BY `main`.`attachments`.`uploadedAt` DESC LIMIT ? OFFSET ?
‚úÖ AI draft generated for ticket TICK-1003
 POST /api/tickets/586d9976-1afc-4b4e-8d95-6f3c5c536f79/generate-draft 200 in 11296ms
prisma:query COMMIT
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE (`main`.`tickets`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ticket_comments`.`id`, `main`.`ticket_comments`.`ticketId`, `main`.`ticket_comments`.`userId`, `main`.`ticket_comments`.`content`, `main`.`ticket_comments`.`isPublic`, `main`.`ticket_comments`.`createdAt`, `main`.`ticket_comments`.`updatedAt` FROM `main`.`ticket_comments` WHERE `main`.`ticket_comments`.`ticketId` IN (?) ORDER BY `main`.`ticket_comments`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`attachments`.`id`, `main`.`attachments`.`ticketId`, `main`.`attachments`.`userId`, `main`.`attachments`.`fileName`, `main`.`attachments`.`fileSize`, `main`.`attachments`.`mimeType`, `main`.`attachments`.`filePath`, `main`.`attachments`.`uploadedAt`, `main`.`attachments`.`expiresAt` FROM `main`.`attachments` WHERE `main`.`attachments`.`ticketId` IN (?) ORDER BY `main`.`attachments`.`uploadedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`status`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`parentTicketId` FROM `main`.`tickets` WHERE `main`.`tickets`.`parentTicketId` IN (?) ORDER BY `main`.`tickets`.`createdAt` ASC LIMIT ? OFFSET ?
 GET /api/tickets/586d9976-1afc-4b4e-8d95-6f3c5c536f79 200 in 34ms
 ‚úì Compiled /api/tickets/[id]/upload-draft-file in 110ms (1238 modules)
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 POST /api/tickets/586d9976-1afc-4b4e-8d95-6f3c5c536f79/upload-draft-file 200 in 178ms
 ‚úì Compiled /api/users in 95ms (1242 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 154ms
 ‚úì Compiled /api/tickets/[id]/send-draft in 344ms (1579 modules)
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE (`main`.`tickets`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`email` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query BEGIN IMMEDIATE
prisma:query INSERT INTO `main`.`ticket_comments` (`id`, `ticketId`, `userId`, `content`, `isPublic`, `createdAt`, `updatedAt`) VALUES (?,?,?,?,?,?,?) RETURNING `id` AS `id`
prisma:query SELECT `main`.`ticket_comments`.`id`, `main`.`ticket_comments`.`ticketId`, `main`.`ticket_comments`.`userId`, `main`.`ticket_comments`.`content`, `main`.`ticket_comments`.`isPublic`, `main`.`ticket_comments`.`createdAt`, `main`.`ticket_comments`.`updatedAt` FROM `main`.`ticket_comments` WHERE `main`.`ticket_comments`.`id` = ? LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`email` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query COMMIT
prisma:query BEGIN IMMEDIATE
prisma:query UPDATE `main`.`tickets` SET `aiDraftResponse` = ?, `aiDraftGeneratedAt` = ?, `aiDraftGeneratedBy` = ?, `assigneeId` = ?, `status` = ?, `updatedAt` = ? WHERE (`main`.`tickets`.`id` = ? AND 1=1) RETURNING `id` AS `id`, `ticketNumber` AS `ticketNumber`, `title` AS `title`, `description` AS `description`, `status` AS `status`, `priority` AS `priority`, `category` AS `category`, `requesterId` AS `requesterId`, `assigneeId` AS `assigneeId`, `departmentId` AS `departmentId`, `emailConversationId` AS `emailConversationId`, `parentTicketId` AS `parentTicketId`, `aiDraftResponse` AS `aiDraftResponse`, `aiDraftGeneratedAt` AS `aiDraftGeneratedAt`, `aiDraftGeneratedBy` AS `aiDraftGeneratedBy`, `createdAt` AS `createdAt`, `updatedAt` AS `updatedAt`, `resolvedAt` AS `resolvedAt`, `closedAt` AS `closedAt`
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE `main`.`tickets`.`id` = ? LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`email` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ticket_comments`.`id`, `main`.`ticket_comments`.`ticketId`, `main`.`ticket_comments`.`userId`, `main`.`ticket_comments`.`content`, `main`.`ticket_comments`.`isPublic`, `main`.`ticket_comments`.`createdAt`, `main`.`ticket_comments`.`updatedAt` FROM `main`.`ticket_comments` WHERE `main`.`ticket_comments`.`ticketId` IN (?) ORDER BY `main`.`ticket_comments`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`email` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?) LIMIT ? OFFSET ?
‚úÖ AI draft sent as comment for ticket TICK-1003
‚ö†Ô∏è  Email NOT sent for ticket TICK-1003: No emailConversationId (ticket was not created from email)
üì∏ Found 1 image(s) in draft, analyzing...
 POST /api/tickets/586d9976-1afc-4b4e-8d95-6f3c5c536f79/send-draft 200 in 428ms
prisma:query SELECT `main`.`attachments`.`id`, `main`.`attachments`.`ticketId`, `main`.`attachments`.`userId`, `main`.`attachments`.`fileName`, `main`.`attachments`.`fileSize`, `main`.`attachments`.`mimeType`, `main`.`attachments`.`filePath`, `main`.`attachments`.`uploadedAt`, `main`.`attachments`.`expiresAt` FROM `main`.`attachments` WHERE `main`.`attachments`.`ticketId` IN (?) ORDER BY `main`.`attachments`.`uploadedAt` DESC LIMIT ? OFFSET ?
prisma:query COMMIT
Failed to analyze image /uploads/draft-files/586d9976-1afc-4b4e-8d95-6f3c5c536f79/screenshot-2025-10-08-at-6-00-01-am-1759982393877.png: ENOENT: no such file or directory, open '/Users/owner/aidin/public/draft-images/586d9976-1afc-4b4e-8d95-6f3c5c536f79/screenshot-2025-10-08-at-6-00-01-am-1759982393877.png'
 ‚úì Compiled /api/users in 278ms (1581 modules)
 ‚úì Compiled in 0ms (1585 modules)
 ‚úì Compiled in 0ms (1585 modules)
 ‚úì Compiled in 0ms (1585 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE (`main`.`tickets`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
üì∏ Found 1 image(s) in content, analyzing...
Failed to analyze image /uploads/draft-files/586d9976-1afc-4b4e-8d95-6f3c5c536f79/screenshot-2025-10-08-at-6-00-01-am-1759982393877.png: ENOENT: no such file or directory, open '/Users/owner/aidin/public/draft-images/586d9976-1afc-4b4e-8d95-6f3c5c536f79/screenshot-2025-10-08-at-6-00-01-am-1759982393877.png'
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/users 200 in 810ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 15ms
prisma:query INSERT INTO `main`.`knowledge_base` (`id`, `title`, `content`, `tags`, `departmentId`, `isActive`, `usageCount`, `createdAt`, `updatedAt`) VALUES (?,?,?,?,?,?,?,?,?) RETURNING `id` AS `id`, `title` AS `title`, `content` AS `content`, `tags` AS `tags`, `departmentId` AS `departmentId`, `isActive` AS `isActive`, `embedding` AS `embedding`, `images` AS `images`, `usageCount` AS `usageCount`, `createdAt` AS `createdAt`, `updatedAt` AS `updatedAt`
prisma:query INSERT INTO `main`.`ticket_kb_usage` (`id`, `ticketId`, `kbId`, `relevance`, `usedInResponse`, `createdAt`) VALUES (?,?,?,?,?,?) RETURNING `id` AS `id`, `ticketId` AS `ticketId`, `kbId` AS `kbId`, `relevance` AS `relevance`, `usedInResponse` AS `usedInResponse`, `createdAt` AS `createdAt`
‚úÖ Auto-created KB article from ticket TICK-1003: 3a17de62-74a6-4419-a045-345cf73a411d - "How to Request Software Installation for Enhanced Functionality"
‚úÖ AI-enhanced KB article: "How to Request Software Installation for Your Team"
Error creating KB article: PrismaClientValidationError: 
Invalid `prisma.knowledgeBase.create()` invocation:

{
  data: {
    title: "How to Request Software Installation for Your Team",
    content: "# How to Install Adobe Photoshop on Your Workstation\n\n## Overview\n\nThis article provides a step-by-step guide to installing Adobe Photoshop on your workstation. Follow the instructions below to ensure a successful installation.\n\n![Adobe Creative Cloud Interface](https://helpx.adobe.com/content/dam/help/en/photoshop/how-to/photoshop-startup/_jcr_content/main-pars/image/ps-startup.png)\n\n## Installation Steps\n\n### 1. Verify System Requirements\n\nEnsure your workstation meets the minimum system requirements for Adobe Photoshop. You can find detailed requirements on the [Adobe System Requirements page](https://helpx.adobe.com/photoshop/system-requirements.html).\n\n### 2. Obtain Adobe Photoshop License\n\n- **Check with IT or Procurement:** If your organization has an enterprise license for Adobe products, contact your IT department or procurement team to obtain the necessary license or access credentials.\n- **Purchase License:** If you need to purchase a license, visit the [Adobe Creative Cloud website](https://www.adobe.com/creativecloud/plans.html).\n\n### 3. Download Adobe Creative Cloud\n\n1. **Access Adobe Creative Cloud:** Go to the [Adobe Creative Cloud download page](https://creativecloud.adobe.com/apps/download/creative-cloud) to download the Creative Cloud application.\n2. **Sign In:** Use your Adobe ID to sign in. If you do not have an Adobe ID, create one.\n\n### 4. Install Adobe Photoshop\n\n1. **Open Creative Cloud App:** Once installed, open the Adobe Creative Cloud application.\n2. **Find Photoshop:** In the apps section, locate Adobe Photoshop.\n3. **Click Install:** Click the \"Install\" button next to Photoshop. The application will begin downloading and installing on your workstation.\n\n### 5. Launch Adobe Photoshop\n\n- After installation, you can launch Photoshop directly from the Creative Cloud app or find it in your applications folder.\n\n### 6. Activation\n\n- **Sign In:** If prompted, sign in with your Adobe ID to activate the software.\n\n## Additional Resources\n\n- For a guided walkthrough, refer to Adobe‚Äôs official [Photoshop installation guide](https://helpx.adobe.com/download-install/using/download-install-photoshop.html).\n\n## Troubleshooting\n\nIf you encounter any issues during installation, consider the following:\n\n- **Re-check System Requirements:** Make sure your system meets all requirements.\n- **Internet Connection:** Ensure you have a stable internet connection during download and installation.\n- **Contact Support:** If problems persist, reach out to your IT department for further assistance.\n\nBy following these steps, you should be able to successfully install Adobe Photoshop on your workstation.",
    tags: "[\"Feature Request\"]",
    departmentId: null,
    ~~~~~~~~~~~~
    createdById: "fc1cc330-ab0e-452c-8bd9-62629bdb30e3",
    isActive: true,
    usageCount: 0,
?   id?: String,
?   embedding?: String | Null,
?   images?: String | Null,
?   createdAt?: DateTime,
?   updatedAt?: DateTime,
?   department?: DepartmentCreateNestedOneWithoutKnowledgeBaseInput,
?   ticketResponses?: TicketKBUsageCreateNestedManyWithoutKnowledgeBaseInput
  }
}

Unknown argument `departmentId`. Did you mean `department`? Available options are marked with ?.
    at Nn (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:4040:11)
    at ei.handleRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7157:13)
    at ei.handleAndLogRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7144:18)
    at ei.request (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7125:18)
    at async a (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7779:25)
    at async POST (webpack-internal:///(rsc)/./app/api/tickets/[id]/save-to-kb/route.js:247:27)
    at async /Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:53446
    at async e_.execute (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:44747)
    at async e_.handle (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:54700)
    at async doRender (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1377:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1587:40)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1507:28)
    at async DevServer.renderPageComponent (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:920:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/owner/aidin/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:816:17)
    at async /Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/owner/aidin/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:174:21)
    at async handleRequest (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:353:24)
    at async requestHandlerImpl (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:377:13)
    at async Server.requestListener (/Users/owner/aidin/node_modules/next/dist/server/lib/start-server.js:141:13) {
  clientVersion: '6.16.1'
}
 POST /api/tickets/586d9976-1afc-4b4e-8d95-6f3c5c536f79/save-to-kb 500 in 11207ms
 ‚úì Compiled /api/tickets/[id] in 417ms (1346 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`departmentId`, `main`.`tickets`.`emailConversationId`, `main`.`tickets`.`parentTicketId`, `main`.`tickets`.`aiDraftResponse`, `main`.`tickets`.`aiDraftGeneratedAt`, `main`.`tickets`.`aiDraftGeneratedBy`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt` FROM `main`.`tickets` WHERE (`main`.`tickets`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`email` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`ticket_comments`.`id`, `main`.`ticket_comments`.`ticketId`, `main`.`ticket_comments`.`userId`, `main`.`ticket_comments`.`content`, `main`.`ticket_comments`.`isPublic`, `main`.`ticket_comments`.`createdAt`, `main`.`ticket_comments`.`updatedAt` FROM `main`.`ticket_comments` WHERE `main`.`ticket_comments`.`ticketId` IN (?) ORDER BY `main`.`ticket_comments`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`email` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`attachments`.`id`, `main`.`attachments`.`ticketId`, `main`.`attachments`.`userId`, `main`.`attachments`.`fileName`, `main`.`attachments`.`fileSize`, `main`.`attachments`.`mimeType`, `main`.`attachments`.`filePath`, `main`.`attachments`.`uploadedAt`, `main`.`attachments`.`expiresAt` FROM `main`.`attachments` WHERE `main`.`attachments`.`ticketId` IN (?) ORDER BY `main`.`attachments`.`uploadedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`status`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`parentTicketId` FROM `main`.`tickets` WHERE `main`.`tickets`.`parentTicketId` IN (?) ORDER BY `main`.`tickets`.`createdAt` ASC LIMIT ? OFFSET ?
 GET /api/tickets/586d9976-1afc-4b4e-8d95-6f3c5c536f79 200 in 485ms
 ‚úì Compiled /api/users in 110ms (1350 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
 GET /api/users 200 in 120ms
 GET /api/users 200 in 169ms
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_departments`.`id`, `main`.`user_departments`.`userId`, `main`.`user_departments`.`departmentId` FROM `main`.`user_departments` WHERE `main`.`user_departments`.`userId` IN (?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`color` FROM `main`.`departments` WHERE `main`.`departments`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
 ‚úì Compiled /knowledge-base in 303ms (1359 modules)
 ‚úì Compiled /api/admin/departments in 257ms (1361 modules)
 ‚úì Compiled (1363 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT 1
 GET /api/admin/departments 200 in 458ms
 GET /api/admin/departments 200 in 403ms
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
Error fetching knowledge base: PrismaClientValidationError: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    isActive: true
  },
  include: {
    department: {
      select: {
        name: true,
        color: true
      }
    },
    createdBy: {
    ~~~~~~~~~
      select: {
        id: true,
        firstName: true,
        lastName: true,
        email: true
      }
    },
?   ticketResponses?: true
  },
  orderBy: {
    updatedAt: "desc"
  }
}

Unknown field `createdBy` for include statement on model `KnowledgeBase`. Available options are marked with ?.
    at Nn (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:4040:11)
    at ei.handleRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7157:13)
    at ei.handleAndLogRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7144:18)
    at ei.request (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7125:18)
    at async a (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7779:25)
    at async GET (webpack-internal:///(rsc)/./app/api/knowledge-base/route.js:49:26)
    at async /Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:53446
    at async e_.execute (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:44747)
    at async e_.handle (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:54700)
    at async doRender (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1377:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1599:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1507:28)
    at async DevServer.renderPageComponent (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:920:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/owner/aidin/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:816:17)
    at async /Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/owner/aidin/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:174:21)
    at async handleRequest (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:353:24)
    at async requestHandlerImpl (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:377:13)
    at async Server.requestListener (/Users/owner/aidin/node_modules/next/dist/server/lib/start-server.js:141:13) {
  clientVersion: '6.16.1'
}
 GET /api/knowledge-base 500 in 461ms
Error fetching knowledge base: PrismaClientValidationError: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    isActive: true
  },
  include: {
    department: {
      select: {
        name: true,
        color: true
      }
    },
    createdBy: {
    ~~~~~~~~~
      select: {
        id: true,
        firstName: true,
        lastName: true,
        email: true
      }
    },
?   ticketResponses?: true
  },
  orderBy: {
    updatedAt: "desc"
  }
}

Unknown field `createdBy` for include statement on model `KnowledgeBase`. Available options are marked with ?.
    at Nn (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:4040:11)
    at ei.handleRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7157:13)
    at ei.handleAndLogRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7144:18)
    at ei.request (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7125:18)
    at async a (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7779:25)
    at async GET (webpack-internal:///(rsc)/./app/api/knowledge-base/route.js:49:26)
    at async /Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:53446
    at async e_.execute (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:44747)
    at async e_.handle (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:54700)
    at async doRender (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1377:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1599:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1507:28)
    at async DevServer.renderPageComponent (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:920:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/owner/aidin/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:816:17)
    at async /Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/owner/aidin/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:174:21)
    at async handleRequest (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:353:24)
    at async requestHandlerImpl (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:377:13)
    at async Server.requestListener (/Users/owner/aidin/node_modules/next/dist/server/lib/start-server.js:141:13) {
  clientVersion: '6.16.1'
}
 GET /api/knowledge-base 500 in 463ms
 GET /knowledge-base 200 in 141ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
Error fetching knowledge base: PrismaClientValidationError: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    isActive: true
  },
  include: {
    department: {
      select: {
        name: true,
        color: true
      }
    },
    createdBy: {
    ~~~~~~~~~
      select: {
        id: true,
        firstName: true,
        lastName: true,
        email: true
      }
    },
?   ticketResponses?: true
  },
  orderBy: {
    updatedAt: "desc"
  }
}

Unknown field `createdBy` for include statement on model `KnowledgeBase`. Available options are marked with ?.
    at Nn (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:4040:11)
    at ei.handleRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7157:13)
    at ei.handleAndLogRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7144:18)
    at ei.request (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7125:18)
    at async a (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7779:25)
    at async GET (webpack-internal:///(rsc)/./app/api/knowledge-base/route.js:49:26)
    at async /Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:53446
    at async e_.execute (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:44747)
    at async e_.handle (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:54700)
    at async doRender (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1377:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1599:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1507:28)
    at async DevServer.renderPageComponent (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:920:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/owner/aidin/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:816:17)
    at async /Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/owner/aidin/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:174:21)
    at async handleRequest (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:353:24)
    at async requestHandlerImpl (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:377:13)
    at async Server.requestListener (/Users/owner/aidin/node_modules/next/dist/server/lib/start-server.js:141:13) {
  clientVersion: '6.16.1'
}
 GET /api/knowledge-base 500 in 35ms
Error fetching knowledge base: PrismaClientValidationError: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    isActive: true
  },
  include: {
    department: {
      select: {
        name: true,
        color: true
      }
    },
    createdBy: {
    ~~~~~~~~~
      select: {
        id: true,
        firstName: true,
        lastName: true,
        email: true
      }
    },
?   ticketResponses?: true
  },
  orderBy: {
    updatedAt: "desc"
  }
}

Unknown field `createdBy` for include statement on model `KnowledgeBase`. Available options are marked with ?.
    at Nn (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:4040:11)
    at ei.handleRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7157:13)
    at ei.handleAndLogRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7144:18)
    at ei.request (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7125:18)
    at async a (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7779:25)
    at async GET (webpack-internal:///(rsc)/./app/api/knowledge-base/route.js:49:26)
    at async /Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:53446
    at async e_.execute (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:44747)
    at async e_.handle (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:54700)
    at async doRender (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1377:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1599:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1507:28)
    at async DevServer.renderPageComponent (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:920:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/owner/aidin/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:816:17)
    at async /Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/owner/aidin/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:174:21)
    at async handleRequest (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:353:24)
    at async requestHandlerImpl (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:377:13)
    at async Server.requestListener (/Users/owner/aidin/node_modules/next/dist/server/lib/start-server.js:141:13) {
  clientVersion: '6.16.1'
}
 GET /api/knowledge-base 500 in 34ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/admin/departments 200 in 41ms
 GET /api/admin/departments 200 in 40ms
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
 ‚úì Compiled /api/auth/me in 119ms (1365 modules)
 GET /api/auth/me 200 in 176ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 ‚úì Compiled /dashboard in 180ms (1444 modules)
 ‚úì Compiled /api/user-preferences in 149ms (1446 modules)
 ‚úì Compiled (1689 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT 1
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`status`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`updatedAt` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?
‚è±Ô∏è stats-fetch: 47.80ms
 GET /api/stats 200 in 528ms
Timer 'stats-fetch' not found
 GET /api/stats 200 in 581ms
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`status`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`updatedAt` FROM `main`.`tickets` WHERE 1=1 LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_preferences`.`id`, `main`.`user_preferences`.`userId`, `main`.`user_preferences`.`personalViewOrder`, `main`.`user_preferences`.`companyViewOrder`, `main`.`user_preferences`.`dashboardCardOrder`, `main`.`user_preferences`.`createdAt`, `main`.`user_preferences`.`updatedAt` FROM `main`.`user_preferences` WHERE `main`.`user_preferences`.`userId` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE `main`.`tickets`.`status` IN (?) ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`tickets`.`id`, `main`.`tickets`.`ticketNumber`, `main`.`tickets`.`title`, `main`.`tickets`.`description`, `main`.`tickets`.`status`, `main`.`tickets`.`priority`, `main`.`tickets`.`category`, `main`.`tickets`.`requesterId`, `main`.`tickets`.`assigneeId`, `main`.`tickets`.`createdAt`, `main`.`tickets`.`updatedAt`, `main`.`tickets`.`resolvedAt`, `main`.`tickets`.`closedAt`, COALESCE(`aggr_selection_0_TicketComment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`tickets` LEFT JOIN (SELECT `main`.`ticket_comments`.`ticketId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`ticket_comments` WHERE 1=1 GROUP BY `main`.`ticket_comments`.`ticketId`) AS `aggr_selection_0_TicketComment` ON (`main`.`tickets`.`id` = `aggr_selection_0_TicketComment`.`ticketId`) WHERE `main`.`tickets`.`status` IN (?) ORDER BY `main`.`tickets`.`createdAt` DESC LIMIT ? OFFSET ?
 GET /api/user-preferences 200 in 584ms
 GET /api/user-preferences 200 in 532ms
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE `main`.`tickets`.`status` IN (?) LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`tickets`.`id` FROM `main`.`tickets` WHERE `main`.`tickets`.`status` IN (?) LIMIT ? OFFSET ?) AS `sub`
‚è±Ô∏è tickets-fetch: 11.98ms
 GET /api/tickets?limit=8&status=NEW 200 in 587ms
Timer 'tickets-fetch' not found
 GET /api/tickets?limit=8&status=NEW 200 in 535ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
Error fetching knowledge base: PrismaClientValidationError: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    isActive: true
  },
  include: {
    department: {
      select: {
        name: true,
        color: true
      }
    },
    createdBy: {
    ~~~~~~~~~
      select: {
        id: true,
        firstName: true,
        lastName: true,
        email: true
      }
    },
?   ticketResponses?: true
  },
  orderBy: {
    updatedAt: "desc"
  }
}

Unknown field `createdBy` for include statement on model `KnowledgeBase`. Available options are marked with ?.
    at Nn (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:4040:11)
    at ei.handleRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7157:13)
    at ei.handleAndLogRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7144:18)
    at ei.request (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7125:18)
    at async a (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7779:25)
    at async GET (webpack-internal:///(rsc)/./app/api/knowledge-base/route.js:49:26)
    at async /Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:53446
    at async e_.execute (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:44747)
    at async e_.handle (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:54700)
    at async doRender (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1377:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1599:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1507:28)
    at async DevServer.renderPageComponent (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:920:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/owner/aidin/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:816:17)
    at async /Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/owner/aidin/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:174:21)
    at async handleRequest (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:353:24)
    at async requestHandlerImpl (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:377:13)
    at async Server.requestListener (/Users/owner/aidin/node_modules/next/dist/server/lib/start-server.js:141:13) {
  clientVersion: '6.16.1'
}
 GET /api/knowledge-base 500 in 45ms
Error fetching knowledge base: PrismaClientValidationError: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    isActive: true
  },
  include: {
    department: {
      select: {
        name: true,
        color: true
      }
    },
    createdBy: {
    ~~~~~~~~~
      select: {
        id: true,
        firstName: true,
        lastName: true,
        email: true
      }
    },
?   ticketResponses?: true
  },
  orderBy: {
    updatedAt: "desc"
  }
}

Unknown field `createdBy` for include statement on model `KnowledgeBase`. Available options are marked with ?.
    at Nn (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:4040:11)
    at ei.handleRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7157:13)
    at ei.handleAndLogRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7144:18)
    at ei.request (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7125:18)
    at async a (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7779:25)
    at async GET (webpack-internal:///(rsc)/./app/api/knowledge-base/route.js:49:26)
    at async /Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:53446
    at async e_.execute (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:44747)
    at async e_.handle (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:54700)
    at async doRender (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1377:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1599:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1507:28)
    at async DevServer.renderPageComponent (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:920:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/owner/aidin/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:816:17)
    at async /Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/owner/aidin/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:174:21)
    at async handleRequest (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:353:24)
    at async requestHandlerImpl (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:377:13)
    at async Server.requestListener (/Users/owner/aidin/node_modules/next/dist/server/lib/start-server.js:141:13) {
  clientVersion: '6.16.1'
}
 GET /api/knowledge-base 500 in 47ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
 GET /api/admin/departments 200 in 59ms
 GET /api/admin/departments 200 in 59ms
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
 ‚úì Compiled in 1010ms (1974 modules)
 GET /knowledge-base 200 in 127ms
 ‚úì Compiled /api/auth/me in 238ms (1036 modules)
 ‚úì Compiled (1041 modules)
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/auth/me 200 in 405ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT 1
Error fetching knowledge base: PrismaClientValidationError: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    isActive: true
  },
  include: {
    department: {
      select: {
        name: true,
        color: true
      }
    },
    createdBy: {
    ~~~~~~~~~
      select: {
        id: true,
        firstName: true,
        lastName: true,
        email: true
      }
    },
?   ticketResponses?: true
  },
  orderBy: {
    updatedAt: "desc"
  }
}

Unknown field `createdBy` for include statement on model `KnowledgeBase`. Available options are marked with ?.
    at Nn (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:4040:11)
    at ei.handleRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7157:13)
    at ei.handleAndLogRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7144:18)
    at ei.request (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7125:18)
    at async a (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7779:25)
    at async GET (webpack-internal:///(rsc)/./app/api/knowledge-base/route.js:49:26)
    at async /Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:53446
    at async e_.execute (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:44747)
    at async e_.handle (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:54700)
    at async doRender (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1377:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1599:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1507:28)
    at async DevServer.renderPageComponent (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:920:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/owner/aidin/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:816:17)
    at async /Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/owner/aidin/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:174:21)
    at async handleRequest (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:353:24)
    at async requestHandlerImpl (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:377:13)
    at async Server.requestListener (/Users/owner/aidin/node_modules/next/dist/server/lib/start-server.js:141:13) {
  clientVersion: '6.16.1'
}
 GET /api/knowledge-base 500 in 447ms
Error fetching knowledge base: PrismaClientValidationError: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    isActive: true
  },
  include: {
    department: {
      select: {
        name: true,
        color: true
      }
    },
    createdBy: {
    ~~~~~~~~~
      select: {
        id: true,
        firstName: true,
        lastName: true,
        email: true
      }
    },
?   ticketResponses?: true
  },
  orderBy: {
    updatedAt: "desc"
  }
}

Unknown field `createdBy` for include statement on model `KnowledgeBase`. Available options are marked with ?.
    at Nn (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:4040:11)
    at ei.handleRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7157:13)
    at ei.handleAndLogRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7144:18)
    at ei.request (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7125:18)
    at async a (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7779:25)
    at async GET (webpack-internal:///(rsc)/./app/api/knowledge-base/route.js:49:26)
    at async /Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:53446
    at async e_.execute (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:44747)
    at async e_.handle (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:54700)
    at async doRender (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1377:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1599:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1507:28)
    at async DevServer.renderPageComponent (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:920:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/owner/aidin/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:816:17)
    at async /Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/owner/aidin/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:174:21)
    at async handleRequest (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:353:24)
    at async requestHandlerImpl (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:377:13)
    at async Server.requestListener (/Users/owner/aidin/node_modules/next/dist/server/lib/start-server.js:141:13) {
  clientVersion: '6.16.1'
}
 GET /api/knowledge-base 500 in 449ms
 GET /api/admin/departments 200 in 450ms
 GET /api/admin/departments 200 in 421ms
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
 ‚óã Compiling /login ...
 ‚úì Compiled /login in 581ms (1966 modules)
 GET /login 200 in 678ms
 ‚úì Compiled in 912ms (1976 modules)
 GET /knowledge-base 200 in 96ms
 ‚úì Compiled /api/auth/me in 95ms (1036 modules)
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/auth/me 200 in 196ms
 ‚úì Compiled /api/admin/departments in 86ms (1038 modules)
 ‚úì Compiled (1041 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
 GET /api/admin/departments 200 in 645ms
Error fetching knowledge base: PrismaClientValidationError: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    isActive: true
  },
  include: {
    department: {
      select: {
        name: true,
        color: true
      }
    },
    createdBy: {
    ~~~~~~~~~
      select: {
        id: true,
        firstName: true,
        lastName: true,
        email: true
      }
    },
?   ticketResponses?: true
  },
  orderBy: {
    updatedAt: "desc"
  }
}

Unknown field `createdBy` for include statement on model `KnowledgeBase`. Available options are marked with ?.
    at Nn (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:4040:11)
    at ei.handleRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7157:13)
    at ei.handleAndLogRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7144:18)
    at ei.request (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7125:18)
    at async a (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7779:25)
    at async GET (webpack-internal:///(rsc)/./app/api/knowledge-base/route.js:49:26)
    at async /Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:53446
    at async e_.execute (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:44747)
    at async e_.handle (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:54700)
    at async doRender (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1377:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1599:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1507:28)
    at async DevServer.renderPageComponent (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:920:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/owner/aidin/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:816:17)
    at async /Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/owner/aidin/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:174:21)
    at async handleRequest (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:353:24)
    at async requestHandlerImpl (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:377:13)
    at async Server.requestListener (/Users/owner/aidin/node_modules/next/dist/server/lib/start-server.js:141:13) {
  clientVersion: '6.16.1'
}
 GET /api/knowledge-base 500 in 649ms
 ‚úì Compiled /_not-found in 343ms (2082 modules)
 GET /installHook.js.map 404 in 414ms
 GET /knowledge-base 200 in 83ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/auth/me 200 in 59ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
Error fetching knowledge base: PrismaClientValidationError: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    isActive: true
  },
  include: {
    department: {
      select: {
        name: true,
        color: true
      }
    },
    createdBy: {
    ~~~~~~~~~
      select: {
        id: true,
        firstName: true,
        lastName: true,
        email: true
      }
    },
?   ticketResponses?: true
  },
  orderBy: {
    updatedAt: "desc"
  }
}

Unknown field `createdBy` for include statement on model `KnowledgeBase`. Available options are marked with ?.
    at Nn (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:4040:11)
    at ei.handleRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7157:13)
    at ei.handleAndLogRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7144:18)
    at ei.request (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7125:18)
    at async a (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7779:25)
    at async GET (webpack-internal:///(rsc)/./app/api/knowledge-base/route.js:49:26)
    at async /Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:53446
    at async e_.execute (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:44747)
    at async e_.handle (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:54700)
    at async doRender (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1377:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1599:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1507:28)
    at async DevServer.renderPageComponent (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:920:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/owner/aidin/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:816:17)
    at async /Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/owner/aidin/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:174:21)
    at async handleRequest (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:353:24)
    at async requestHandlerImpl (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:377:13)
    at async Server.requestListener (/Users/owner/aidin/node_modules/next/dist/server/lib/start-server.js:141:13) {
  clientVersion: '6.16.1'
}
 GET /api/knowledge-base 500 in 41ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
 GET /api/admin/departments 200 in 43ms
 GET /installHook.js.map 404 in 16ms
 GET /knowledge-base 200 in 33ms
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/auth/me 200 in 32ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
Error fetching knowledge base: PrismaClientValidationError: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    isActive: true
  },
  include: {
    department: {
      select: {
        name: true,
        color: true
      }
    },
    createdBy: {
    ~~~~~~~~~
      select: {
        id: true,
        firstName: true,
        lastName: true,
        email: true
      }
    },
?   ticketResponses?: true
  },
  orderBy: {
    updatedAt: "desc"
  }
}

Unknown field `createdBy` for include statement on model `KnowledgeBase`. Available options are marked with ?.
    at Nn (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:4040:11)
    at ei.handleRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7157:13)
    at ei.handleAndLogRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7144:18)
    at ei.request (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7125:18)
    at async a (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7779:25)
    at async GET (webpack-internal:///(rsc)/./app/api/knowledge-base/route.js:49:26)
    at async /Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:53446
    at async e_.execute (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:44747)
    at async e_.handle (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:54700)
    at async doRender (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1377:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1599:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1507:28)
    at async DevServer.renderPageComponent (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:920:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/owner/aidin/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:816:17)
    at async /Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/owner/aidin/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:174:21)
    at async handleRequest (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:353:24)
    at async requestHandlerImpl (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:377:13)
    at async Server.requestListener (/Users/owner/aidin/node_modules/next/dist/server/lib/start-server.js:141:13) {
  clientVersion: '6.16.1'
}
 GET /api/knowledge-base 500 in 27ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
 GET /api/admin/departments 200 in 31ms
 GET /installHook.js.map 404 in 22ms
 GET /api/knowledge-base 401 in 13ms
 ‚úì Compiled in 473ms (1052 modules)
 ‚úì Compiled in 380ms (924 modules)
 GET /knowledge-base 200 in 108ms
 ‚úì Compiled /api/auth/me in 101ms (1036 modules)
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/auth/me 200 in 188ms
 ‚úì Compiled /api/admin/departments in 199ms (1038 modules)
 ‚úì Compiled in 0ms (1041 modules)
 ‚úì Compiled in 0ms (1041 modules)
 ‚úì Compiled in 0ms (1041 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
Error fetching knowledge base: PrismaClientValidationError: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    isActive: true
  },
  include: {
    department: {
      select: {
        name: true,
        color: true
      }
    },
    createdBy: {
    ~~~~~~~~~
      select: {
        id: true,
        firstName: true,
        lastName: true,
        email: true
      }
    },
?   ticketResponses?: true
  },
  orderBy: {
    updatedAt: "desc"
  }
}

Unknown field `createdBy` for include statement on model `KnowledgeBase`. Available options are marked with ?.
    at Nn (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:4040:11)
    at ei.handleRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7157:13)
    at ei.handleAndLogRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7144:18)
    at ei.request (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7125:18)
    at async a (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7779:25)
    at async GET (webpack-internal:///(rsc)/./app/api/knowledge-base/route.js:47:26)
    at async /Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:53446
    at async e_.execute (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:44747)
    at async e_.handle (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:54700)
    at async doRender (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1377:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1599:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1507:28)
    at async DevServer.renderPageComponent (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:920:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/owner/aidin/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:816:17)
    at async /Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/owner/aidin/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:174:21)
    at async handleRequest (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:353:24)
    at async requestHandlerImpl (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:377:13)
    at async Server.requestListener (/Users/owner/aidin/node_modules/next/dist/server/lib/start-server.js:141:13) {
  clientVersion: '6.16.1'
}
 GET /api/knowledge-base 500 in 562ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/admin/departments 200 in 702ms
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
 ‚úì Compiled /_not-found in 175ms (2082 modules)
 GET /installHook.js.map 404 in 244ms
 GET /knowledge-base 200 in 68ms
 GET /api/auth/me 200 in 62ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
Error fetching knowledge base: PrismaClientValidationError: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    isActive: true
  },
  include: {
    department: {
      select: {
        name: true,
        color: true
      }
    },
    createdBy: {
    ~~~~~~~~~
      select: {
        id: true,
        firstName: true,
        lastName: true,
        email: true
      }
    },
?   ticketResponses?: true
  },
  orderBy: {
    updatedAt: "desc"
  }
}

Unknown field `createdBy` for include statement on model `KnowledgeBase`. Available options are marked with ?.
    at Nn (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:4040:11)
    at ei.handleRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7157:13)
    at ei.handleAndLogRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7144:18)
    at ei.request (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7125:18)
    at async a (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7779:25)
    at async GET (webpack-internal:///(rsc)/./app/api/knowledge-base/route.js:47:26)
    at async /Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:53446
    at async e_.execute (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:44747)
    at async e_.handle (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:54700)
    at async doRender (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1377:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1599:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1507:28)
    at async DevServer.renderPageComponent (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:920:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/owner/aidin/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:816:17)
    at async /Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/owner/aidin/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:174:21)
    at async handleRequest (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:353:24)
    at async requestHandlerImpl (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:377:13)
    at async Server.requestListener (/Users/owner/aidin/node_modules/next/dist/server/lib/start-server.js:141:13) {
  clientVersion: '6.16.1'
}
 GET /api/knowledge-base 500 in 50ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
 GET /api/admin/departments 200 in 49ms
 GET /installHook.js.map 404 in 17ms
 ‚úì Compiled in 494ms (1052 modules)
 ‚úì Compiled in 398ms (924 modules)
 GET /knowledge-base 200 in 123ms
 ‚úì Compiled /api/auth/me in 227ms (1036 modules)
 GET /api/auth/me 200 in 312ms
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 ‚úì Compiled /api/admin/departments in 218ms (1038 modules)
 ‚úì Compiled in 0ms (1041 modules)
 ‚úì Compiled in 0ms (1041 modules)
 ‚úì Compiled in 0ms (1041 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
Error fetching knowledge base: PrismaClientValidationError: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    isActive: true
  },
  include: {
    department: {
      select: {
        name: true,
        color: true
      }
    },
    createdBy: {
    ~~~~~~~~~
      select: {
        id: true,
        firstName: true,
        lastName: true,
        email: true
      }
    },
?   ticketResponses?: true
  },
  orderBy: {
    updatedAt: "desc"
  }
}

Unknown field `createdBy` for include statement on model `KnowledgeBase`. Available options are marked with ?.
    at Nn (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:4040:11)
    at ei.handleRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7157:13)
    at ei.handleAndLogRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7144:18)
    at ei.request (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7125:18)
    at async a (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7779:25)
    at async GET (webpack-internal:///(rsc)/./app/api/knowledge-base/route.js:47:26)
    at async /Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:53446
    at async e_.execute (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:44747)
    at async e_.handle (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:54700)
    at async doRender (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1377:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1599:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1507:28)
    at async DevServer.renderPageComponent (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:920:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/owner/aidin/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:816:17)
    at async /Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/owner/aidin/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:174:21)
    at async handleRequest (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:353:24)
    at async requestHandlerImpl (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:377:13)
    at async Server.requestListener (/Users/owner/aidin/node_modules/next/dist/server/lib/start-server.js:141:13) {
  clientVersion: '6.16.1'
}
Error details: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    isActive: true
  },
  include: {
    department: {
      select: {
        name: true,
        color: true
      }
    },
    createdBy: {
    ~~~~~~~~~
      select: {
        id: true,
        firstName: true,
        lastName: true,
        email: true
      }
    },
?   ticketResponses?: true
  },
  orderBy: {
    updatedAt: "desc"
  }
}

Unknown field `createdBy` for include statement on model `KnowledgeBase`. Available options are marked with ?.
Error stack: PrismaClientValidationError: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    isActive: true
  },
  include: {
    department: {
      select: {
        name: true,
        color: true
      }
    },
    createdBy: {
    ~~~~~~~~~
      select: {
        id: true,
        firstName: true,
        lastName: true,
        email: true
      }
    },
?   ticketResponses?: true
  },
  orderBy: {
    updatedAt: "desc"
  }
}

Unknown field `createdBy` for include statement on model `KnowledgeBase`. Available options are marked with ?.
    at Nn (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:4040:11)
    at ei.handleRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7157:13)
    at ei.handleAndLogRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7144:18)
    at ei.request (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7125:18)
    at async a (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7779:25)
    at async GET (webpack-internal:///(rsc)/./app/api/knowledge-base/route.js:47:26)
    at async /Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:53446
    at async e_.execute (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:44747)
    at async e_.handle (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:54700)
    at async doRender (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1377:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1599:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1507:28)
    at async DevServer.renderPageComponent (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:920:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/owner/aidin/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:816:17)
    at async /Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/owner/aidin/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:174:21)
    at async handleRequest (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:353:24)
    at async requestHandlerImpl (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:377:13)
    at async Server.requestListener (/Users/owner/aidin/node_modules/next/dist/server/lib/start-server.js:141:13)
 GET /api/knowledge-base 500 in 620ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/admin/departments 200 in 773ms
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
 ‚úì Compiled in 699ms (924 modules)
 ‚úì Compiled in 530ms (924 modules)
 GET /knowledge-base 200 in 163ms
 ‚úì Compiled /api/auth/me in 273ms (1036 modules)
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/auth/me 200 in 381ms
 ‚úì Compiled /api/admin/departments in 97ms (1038 modules)
 ‚úì Compiled in 0ms (1041 modules)
 ‚úì Compiled in 1ms (1041 modules)
 ‚úì Compiled in 0ms (1041 modules)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
Error fetching knowledge base: PrismaClientValidationError: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    isActive: true
  },
  include: {
    department: {
      select: {
        name: true,
        color: true
      }
    },
    createdBy: {
    ~~~~~~~~~
      select: {
        id: true,
        firstName: true,
        lastName: true,
        email: true
      }
    },
?   ticketResponses?: true
  },
  orderBy: {
    updatedAt: "desc"
  }
}

Unknown field `createdBy` for include statement on model `KnowledgeBase`. Available options are marked with ?.
    at Nn (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:4040:11)
    at ei.handleRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7157:13)
    at ei.handleAndLogRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7144:18)
    at ei.request (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7125:18)
    at async a (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7779:25)
    at async GET (webpack-internal:///(rsc)/./app/api/knowledge-base/route.js:47:26)
    at async /Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:53446
    at async e_.execute (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:44747)
    at async e_.handle (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:54700)
    at async doRender (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1377:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1599:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1507:28)
    at async DevServer.renderPageComponent (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:920:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/owner/aidin/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:816:17)
    at async /Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/owner/aidin/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:174:21)
    at async handleRequest (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:353:24)
    at async requestHandlerImpl (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:377:13)
    at async Server.requestListener (/Users/owner/aidin/node_modules/next/dist/server/lib/start-server.js:141:13) {
  clientVersion: '6.16.1'
}
Error details: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    isActive: true
  },
  include: {
    department: {
      select: {
        name: true,
        color: true
      }
    },
    createdBy: {
    ~~~~~~~~~
      select: {
        id: true,
        firstName: true,
        lastName: true,
        email: true
      }
    },
?   ticketResponses?: true
  },
  orderBy: {
    updatedAt: "desc"
  }
}

Unknown field `createdBy` for include statement on model `KnowledgeBase`. Available options are marked with ?.
Error stack: PrismaClientValidationError: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    isActive: true
  },
  include: {
    department: {
      select: {
        name: true,
        color: true
      }
    },
    createdBy: {
    ~~~~~~~~~
      select: {
        id: true,
        firstName: true,
        lastName: true,
        email: true
      }
    },
?   ticketResponses?: true
  },
  orderBy: {
    updatedAt: "desc"
  }
}

Unknown field `createdBy` for include statement on model `KnowledgeBase`. Available options are marked with ?.
    at Nn (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:4040:11)
    at ei.handleRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7157:13)
    at ei.handleAndLogRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7144:18)
    at ei.request (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7125:18)
    at async a (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7779:25)
    at async GET (webpack-internal:///(rsc)/./app/api/knowledge-base/route.js:47:26)
    at async /Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:53446
    at async e_.execute (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:44747)
    at async e_.handle (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:54700)
    at async doRender (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1377:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1599:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1507:28)
    at async DevServer.renderPageComponent (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:920:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/owner/aidin/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:816:17)
    at async /Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/owner/aidin/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:174:21)
    at async handleRequest (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:353:24)
    at async requestHandlerImpl (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:377:13)
    at async Server.requestListener (/Users/owner/aidin/node_modules/next/dist/server/lib/start-server.js:141:13)
 GET /api/knowledge-base 500 in 815ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
 GET /api/admin/departments 200 in 966ms
 ‚úì Compiled /_not-found in 447ms (2082 modules)
 GET /installHook.js.map 404 in 525ms
 GET /knowledge-base 200 in 92ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/auth/me 200 in 73ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
Error fetching knowledge base: PrismaClientValidationError: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    isActive: true
  },
  include: {
    department: {
      select: {
        name: true,
        color: true
      }
    },
    createdBy: {
    ~~~~~~~~~
      select: {
        id: true,
        firstName: true,
        lastName: true,
        email: true
      }
    },
?   ticketResponses?: true
  },
  orderBy: {
    updatedAt: "desc"
  }
}

Unknown field `createdBy` for include statement on model `KnowledgeBase`. Available options are marked with ?.
    at Nn (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:4040:11)
    at ei.handleRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7157:13)
    at ei.handleAndLogRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7144:18)
    at ei.request (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7125:18)
    at async a (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7779:25)
    at async GET (webpack-internal:///(rsc)/./app/api/knowledge-base/route.js:47:26)
    at async /Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:53446
    at async e_.execute (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:44747)
    at async e_.handle (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:54700)
    at async doRender (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1377:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1599:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1507:28)
    at async DevServer.renderPageComponent (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:920:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/owner/aidin/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:816:17)
    at async /Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/owner/aidin/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:174:21)
    at async handleRequest (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:353:24)
    at async requestHandlerImpl (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:377:13)
    at async Server.requestListener (/Users/owner/aidin/node_modules/next/dist/server/lib/start-server.js:141:13) {
  clientVersion: '6.16.1'
}
Error details: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    isActive: true
  },
  include: {
    department: {
      select: {
        name: true,
        color: true
      }
    },
    createdBy: {
    ~~~~~~~~~
      select: {
        id: true,
        firstName: true,
        lastName: true,
        email: true
      }
    },
?   ticketResponses?: true
  },
  orderBy: {
    updatedAt: "desc"
  }
}

Unknown field `createdBy` for include statement on model `KnowledgeBase`. Available options are marked with ?.
Error stack: PrismaClientValidationError: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    isActive: true
  },
  include: {
    department: {
      select: {
        name: true,
        color: true
      }
    },
    createdBy: {
    ~~~~~~~~~
      select: {
        id: true,
        firstName: true,
        lastName: true,
        email: true
      }
    },
?   ticketResponses?: true
  },
  orderBy: {
    updatedAt: "desc"
  }
}

Unknown field `createdBy` for include statement on model `KnowledgeBase`. Available options are marked with ?.
    at Nn (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:4040:11)
    at ei.handleRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7157:13)
    at ei.handleAndLogRequestError (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7144:18)
    at ei.request (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7125:18)
    at async a (webpack-internal:///(instrument)/./lib/generated/prisma/runtime/library.js:7779:25)
    at async GET (webpack-internal:///(rsc)/./app/api/knowledge-base/route.js:47:26)
    at async /Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:53446
    at async e_.execute (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:44747)
    at async e_.handle (/Users/owner/aidin/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:54700)
    at async doRender (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1377:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1599:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1507:28)
    at async DevServer.renderPageComponent (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:920:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/owner/aidin/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/owner/aidin/node_modules/next/dist/server/base-server.js:816:17)
    at async /Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/owner/aidin/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/owner/aidin/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:174:21)
    at async handleRequest (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:353:24)
    at async requestHandlerImpl (/Users/owner/aidin/node_modules/next/dist/server/lib/router-server.js:377:13)
    at async Server.requestListener (/Users/owner/aidin/node_modules/next/dist/server/lib/start-server.js:141:13)
 GET /api/knowledge-base 500 in 54ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`firstName`, `main`.`users`.`lastName`, `main`.`users`.`phone`, `main`.`users`.`userType`, `main`.`users`.`managerId`, `main`.`users`.`isActive`, `main`.`users`.`lastLoginAt`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, `main`.`users`.`azureId`, `main`.`users`.`userPrincipalName`, `main`.`users`.`jobTitle`, `main`.`users`.`officeLocation`, `main`.`users`.`mobilePhone`, `main`.`users`.`avatar`, `main`.`users`.`lastSyncAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_roles`.`id`, `main`.`user_roles`.`userId`, `main`.`user_roles`.`roleId` FROM `main`.`user_roles` WHERE `main`.`user_roles`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`roles`.`id`, `main`.`roles`.`name`, `main`.`roles`.`description`, `main`.`roles`.`permissions`, `main`.`roles`.`createdAt`, `main`.`roles`.`updatedAt` FROM `main`.`roles` WHERE `main`.`roles`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`departments`.`id`, `main`.`departments`.`name`, `main`.`departments`.`description`, `main`.`departments`.`color`, `main`.`departments`.`isActive`, `main`.`departments`.`createdAt`, `main`.`departments`.`updatedAt`, COALESCE(`aggr_selection_0_UserDepartment`.`_aggr_count_users`, 0) AS `_aggr_count_users`, COALESCE(`aggr_selection_1_DepartmentKeyword`.`_aggr_count_keywords`, 0) AS `_aggr_count_keywords`, COALESCE(`aggr_selection_2_KnowledgeBase`.`_aggr_count_knowledgeBase`, 0) AS `_aggr_count_knowledgeBase` FROM `main`.`departments` LEFT JOIN (SELECT `main`.`user_departments`.`departmentId`, COUNT(*) AS `_aggr_count_users` FROM `main`.`user_departments` WHERE 1=1 GROUP BY `main`.`user_departments`.`departmentId`) AS `aggr_selection_0_UserDepartment` ON (`main`.`departments`.`id` = `aggr_selection_0_UserDepartment`.`departmentId`) LEFT JOIN (SELECT `main`.`department_keywords`.`departmentId`, COUNT(*) AS `_aggr_count_keywords` FROM `main`.`department_keywords` WHERE 1=1 GROUP BY `main`.`department_keywords`.`departmentId`) AS `aggr_selection_1_DepartmentKeyword` ON (`main`.`departments`.`id` = `aggr_selection_1_DepartmentKeyword`.`departmentId`) LEFT JOIN (SELECT `main`.`knowledge_base`.`departmentId`, COUNT(*) AS `_aggr_count_knowledgeBase` FROM `main`.`knowledge_base` WHERE 1=1 GROUP BY `main`.`knowledge_base`.`departmentId`) AS `aggr_selection_2_KnowledgeBase` ON (`main`.`departments`.`id` = `aggr_selection_2_KnowledgeBase`.`departmentId`) WHERE 1=1 ORDER BY `main`.`departments`.`name` ASC LIMIT ? OFFSET ?
 GET /api/admin/departments 200 in 56ms
 GET /installHook.js.map 404 in 18ms
[?25h
